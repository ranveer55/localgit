(window.webpackJsonptaplingua=window.webpackJsonptaplingua||[]).push([[0],{128:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(28),l=a(9),s=a(10),r=a(31),c=a.n(r);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var i=function(){function e(t){Object(l.a)(this,e),this.domain=t||"https://api1.taplingua.com/v1",this.fetch=this.fetch.bind(this),this.addEmpCourse=this.addEmpCourse.bind(this)}return Object(s.a)(e,[{key:"addEmployee",value:function(e){return c.a.post("".concat(this.domain,"/saveEmployee.php"),JSON.stringify(e)).then((function(e){return Promise.resolve(e)}))}},{key:"sendEmailAll",value:function(e){return c.a.post("".concat(this.domain,"/send-welcome-email.php"),JSON.stringify({params:e})).then((function(e){return Promise.resolve(e)}))}},{key:"sendWeeklyEmail",value:function(e){return c.a.post("".concat(this.domain,"/send-weekly-email.php"),JSON.stringify({params:e})).then((function(e){return Promise.resolve(e)}))}},{key:"sendRouteEmail",value:function(e){return c.a.post("".concat(this.domain,"/send-route-email.php"),JSON.stringify({params:e})).then((function(e){return Promise.resolve(e)}))}},{key:"sendPush",value:function(e){return c.a.post("".concat(this.domain,"/send-push-notification.php"),JSON.stringify({params:e})).then((function(e){return Promise.resolve(e)}))}},{key:"sendEmail",value:function(e){return c.a.post("".concat(this.domain,"/send-email.php"),JSON.stringify({params:e})).then((function(e){return Promise.resolve(e)}))}},{key:"getEmailList",value:function(e){var t="CompanyCode="+e;return c.a.get("".concat(this.domain,"/getEmployee.php?")+t).then((function(e){for(var t=[],a=0;a<e.data.length;a++)""!==e.data[a].fcmToken&&t.push({value:e.data[a].fcmToken,label:e.data[a].userId});return Promise.resolve(t)}))}},{key:"getCompletionReports",value:function(e,t,a,n){return c.a.get("".concat(this.domain,"/completion-reports-api.php?companyCode=")+e+"&courseNumber="+t+"&batchNumber="+a+"&routeNumber="+n).then((function(e){return Promise.resolve(e.data)}))}},{key:"getRouteList",value:function(e){return c.a.get("".concat(this.domain,"/routeList.php?courseNo=")+e).then((function(e){for(var t=[],a=0;a<e.data.length;a++)t.push({value:e.data[a].routeNo,label:e.data[a].description,id:e.data[a].id});return Promise.resolve(t)}))}},{key:"getCourseBatch",value:function(e,t){return c.a.get("".concat(this.domain,"/courseListBatch.php?companyCode=")+e+"&batchNumber="+t).then((function(e){for(var t=[],a=0;a<e.data.length;a++)t.push({value:e.data[a].courseNumber,label:e.data[a].courseName,courseStartDate:e.data[a].courseStartDate});return Promise.resolve(t)}))}},{key:"getBatch",value:function(e){return c.a.get("".concat(this.domain,"/batch.php?companyCode=")+e).then((function(e){for(var t=[],a=0;a<e.data.length;a++)t.push({value:e.data[a].batchNumber,label:e.data[a].batchNumber});return Promise.resolve(t)}))}},{key:"getCompanyList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t="".concat(this.domain,"/company.php");return e&&(t="".concat(this.domain,"/company.php?companyCode=").concat(e)),c.a.get("".concat(t)).then((function(e){for(var t=[],a=0;a<e.data.length;a++)if(""!==e.data[a].Id&&"0"!==e.data[a].Id){var n=e.data[a].Id+" - "+e.data[a].Name;t.push({value:e.data[a].Id,label:n})}return Promise.resolve(t)}))}},{key:"getEmployeeList",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n="CompanyCode="+e;return"0"!==t&&(n=n+"&batchno="+t),""!==a&&(n=n+"&acceptedGDPR="+a),c.a.get("".concat(this.domain,"/getEmployee.php?")+n).then((function(e){return Promise.resolve(e.data)}))}},{key:"getCourseList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a="companyCode="+e;return 0!==t&&(a=a+"&batchNumber="+t),c.a.get("".concat(this.domain,"/courseListBatch.php?")+a).then((function(e){return Promise.resolve(e.data)}))}},{key:"getCourseDetails",value:function(e,t){return this.fetch("".concat(this.domain,"/getEmployeeCourseAll.php?companyCode=")+e+"&courseNumber="+t,{method:"GET"}).then((function(e){for(var t=[],a=0;a<e.registered.length;a++)t.push(e.registered[a].userId);for(var n=[],l=0;l<e.availableToRegister.length;l++)-1===t.indexOf(e.availableToRegister[l].userId)&&n.push(e.availableToRegister[l]);return e.availableToRegister=n,Promise.resolve(e)}))}},{key:"addEmpCourse",value:function(e,t,a){return c.a.post("".concat(this.domain,"/add-employee-course.php"),JSON.stringify({userId:e,companyCode:t,courseNumber:a})).then((function(e){return Promise.resolve(e)}))}},{key:"deleteEmpCourse",value:function(e,t,a){return c.a.post("".concat(this.domain,"/remove-employee-course.php"),JSON.stringify({userId:e,companyCode:t,courseNumber:a})).then((function(e){return Promise.resolve(e)}))}},{key:"setCompanyCode",value:function(e){localStorage.setItem("company_code",e)}},{key:"getCompanyCode",value:function(){return localStorage.getItem("company_code")}},{key:"setCompanyName",value:function(e){localStorage.setItem("company_name",e)}},{key:"getCompanyName",value:function(){return localStorage.getItem("company_name")}},{key:"setAccessLevel",value:function(e){localStorage.setItem("access_level",e)}},{key:"getAccessLevel",value:function(){return localStorage.getItem("access_level")}},{key:"getOverView",value:function(e){return this.fetch("".concat(this.domain,"/overview.php?companyCode=")+e,{method:"GET"}).then((function(e){return Promise.resolve(e)}))}},{key:"fetch",value:function(e){function t(t,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return fetch(e,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({headers:{Accept:"application/json","Content-Type":"application/json"}},t)).then(this._checkStatus).then((function(e){return e.json()}))}))},{key:"_checkStatus",value:function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}}]),e}()},192:function(e,t,a){"use strict";(function(e){var n=a(9),l=a(10),s=a(13),r=a(11),c=a(12),o=a(0),i=a.n(o),m=function(t){function a(e){var t;return Object(n.a)(this,a),(t=Object(s.a)(this,Object(r.a)(a).call(this,e))).state={data:[]},t}return Object(c.a)(a,t),Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;e.api.getOverView(e.companyCode).then((function(e){return e})).then((function(e){return t.setState({data:e})})).catch((function(e){alert(e)}))}},{key:"render",value:function(){var e=this.state.data,t=e.totalUsers,a=e.activeCourses,n=e.ongoingBatches;return i.a.createElement("main",{className:"offset",id:"content"},i.a.createElement("section",{className:"section_box"},i.a.createElement("h1",{className:"title1 mb115"},"Overview"),i.a.createElement("div",{className:"overview-wrap"},i.a.createElement("div",{className:"overview-wrap-left"},i.a.createElement("div",{className:"overview-wrap-div-up"},i.a.createElement("div",{className:"overview-wrap-div-up-heading"},"Total Users"),i.a.createElement("div",{className:"overview-wrap-div-up-border"}),i.a.createElement("div",{className:"overview-wrap-div-up-text"},t)),i.a.createElement("div",{className:"overview-wrap-div-down"})),i.a.createElement("div",{className:"overview-wrap-center"},i.a.createElement("div",{className:"overview-wrap-div-up"},i.a.createElement("div",{className:"overview-wrap-div-up-heading"},"Active Courses"),i.a.createElement("div",{className:"overview-wrap-div-up-border"}),i.a.createElement("div",{className:"overview-wrap-div-up-text"},a)),i.a.createElement("div",{className:"overview-wrap-div-down"})),i.a.createElement("div",{className:"overview-wrap-right"},i.a.createElement("div",{className:"overview-wrap-div-up"},i.a.createElement("div",{className:"overview-wrap-div-up-heading"},"Ongoing Cohorts"),i.a.createElement("div",{className:"overview-wrap-div-up-border"}),i.a.createElement("div",{className:"overview-wrap-div-up-text"},n)),i.a.createElement("div",{className:"overview-wrap-div-down"})))))}}]),a}(i.a.Component);t.a=m}).call(this,a(25))},194:function(e,t,a){"use strict";var n=a(318),l=a(9),s=a(10),r=a(13),c=a(11),o=a(12),i=a(0),m=a.n(i),d=a(62),u=a(60),p=a(286),h=a(287),v=(m.a.Component,a(28)),g=a(52),f=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(r.a)(this,Object(c.a)(t).call(this))).handleChange=e.handleChange.bind(Object(g.a)(e)),e.handleFormSubmit=e.handleFormSubmit.bind(Object(g.a)(e)),e.Auth=new u.a,e}return Object(o.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.Auth.loggedIn()&&this.props.history.replace("/")}},{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement("div",{className:"overlay"}),m.a.createElement("div",{id:"page-preloader"},m.a.createElement("div",{className:"preloader"},m.a.createElement("div",{className:"preload_inner preload-one"}),m.a.createElement("div",{className:"preload_inner preload-two"}),m.a.createElement("div",{className:"preload_inner preload-three"}))),m.a.createElement("main",{className:"type2",id:"content"},m.a.createElement("section",{className:"section_box section_offset1 zoom"},m.a.createElement("div",{className:"form_wrapper "},m.a.createElement("div",{className:"form_logos mb35"},m.a.createElement("img",{src:"/images/logos.png",alt:""})),m.a.createElement("form",{className:"form_form",onSubmit:this.handleFormSubmit},m.a.createElement("h3",{className:"form_title al_center mb35"},"Please login to your account."),m.a.createElement("div",{className:"form_row type2"},m.a.createElement("input",{className:"form_input type2",placeholder:"Username",name:"email",type:"text",onChange:this.handleChange})),m.a.createElement("div",{className:"form_row type2"},m.a.createElement("input",{className:"form_input type2",placeholder:"Password ",name:"password",type:"password",onChange:this.handleChange})),m.a.createElement("div",{className:"form_row type2 form_flex mb115"},m.a.createElement("label",{className:"form_checkbox login"},m.a.createElement("input",{type:"checkbox",hidden:"hidden"}),m.a.createElement("span",null,"Remember me")),m.a.createElement("a",{className:"link link-size1 link_color",href:"/forgotpass"},"Forgot password")),m.a.createElement("div",{className:"form_row_btn type2"},m.a.createElement("button",{className:"btn btn-radius btn-orange btn-login",type:"submit"},m.a.createElement("span",null,"LOG IN")))),m.a.createElement("div",{className:"link_wrapp"},m.a.createElement("a",{className:"link_wrapp_it",href:"/terms"},"Terms of Use"),m.a.createElement("a",{className:"link_wrapp_it",href:"/policy"},"Privacy Policy"))))))}},{key:"handleChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"handleFormSubmit",value:function(e){e.preventDefault(),this.Auth.login(this.state.email,this.state.password).then((function(e){if(e.message)return alert(e.message),!1;"0"!==e.accesslevel?window.location.href="/overview":alert("Access Level Disabled, Contact Admin")})).catch((function(e){alert(e)}))}}]),t}(i.Component),b=a(304),N=a(305),E=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(r.a)(this,Object(c.a)(t).call(this))).handleChange=function(t){return function(a){e.setState(Object(v.a)({},t,a.target.value))}},e.handleFormSubmit=function(t){t.preventDefault();var a=e.state.email;""===a?alert("Please Enter Email"):e.Auth.forgotpass(a).then((function(t){"Please check email for reset link."===t.message?e.setState({showError:!0,showSuccess:"success_message",messageFromServer:t.message}):e.setState({showError:!0,showSuccess:"error_message",messageFromServer:t.message})})).catch((function(e){alert(e)}))},e.state={email:"",showError:!1,messageFromServer:"",showSuccess:""},e.Auth=new u.a,e}return Object(o.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return m.a.createElement("div",null,m.a.createElement("div",{className:"overlay"}),m.a.createElement("div",{id:"page-preloader"},m.a.createElement("div",{className:"preloader"},m.a.createElement("div",{className:"preload_inner preload-one"}),m.a.createElement("div",{className:"preload_inner preload-two"}),m.a.createElement("div",{className:"preload_inner preload-three"}))),m.a.createElement("main",{className:"type2",id:"content"},m.a.createElement("section",{className:"section_box section_offset1 zoom"},m.a.createElement("div",{className:"form_wrapper "},m.a.createElement("div",{className:"form_logos mb35"},m.a.createElement("img",{src:"/images/logos.png",alt:""})),m.a.createElement("form",{className:"form_form",onSubmit:this.handleFormSubmit},m.a.createElement("h3",{className:"form_title al_center mb50",style:{fontSize:"25px"}},"Enter your email and we send you a password reset link."),m.a.createElement("div",{className:"form_row type2"},m.a.createElement("input",{className:"form_input type2",type:"text",placeholder:"Email",id:"email",label:"email",onChange:this.handleChange("email")})),m.a.createElement("div",{className:this.state.showSuccess},!0===this.state.showError?this.state.messageFromServer:" ","\xa0"),m.a.createElement("div",{className:"form_row_btn type2"},m.a.createElement("button",{className:"btn btn-radius btn-orange btn-size5",type:"submit"},m.a.createElement("span",null,"SEND REQUEST")))),m.a.createElement("div",{className:"link_wrapp"},m.a.createElement("a",{className:"link_wrapp_it",href:"/terms"},"Terms of Use"),m.a.createElement("a",{className:"link_wrapp_it",href:"/policy"},"Privacy Policy"))))))}}]),t}(i.Component),y=a(308),S=a(310),_=a(311),w=a(312),x=a(313),C=a(314),O=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return m.a.createElement("main",{className:"offset",id:"content"},m.a.createElement("section",{className:"section_box"},m.a.createElement("h4",{className:"title4 fw500 mb20"},"Messaging & Notification Center"),m.a.createElement("h1",{className:"title1 mb115"},"Campaigns"),m.a.createElement("form",{className:"form_employee js-tabs"},m.a.createElement("ul",{className:"js-tabs-list tab-list"},m.a.createElement("li",{"data-id":"weeklycompletion"},m.a.createElement("span",null,"Weekly Completion")),m.a.createElement("li",{"data-id":"weeklytasks"},m.a.createElement("span",null,"Weekly Tasks")),m.a.createElement("li",{"data-id":"welcomemail"},m.a.createElement("span",null,"Welcome - Email"))),m.a.createElement("div",null,m.a.createElement("div",{className:"js-tabs-box tab-box"},m.a.createElement(w.a,null),m.a.createElement(x.a,null),m.a.createElement(C.a,null))))))}}]),t}(i.Component),k=a(192),D=new u.a,P=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return m.a.createElement(d.d,null,m.a.createElement(d.b,{exact:!0,path:"/login",component:f}),m.a.createElement(d.b,{exact:!0,path:"/forgotpass",component:E}),m.a.createElement(j,{path:"/employee",component:p.a}),m.a.createElement(j,{path:"/add-employee",component:h.a}),m.a.createElement(j,{path:"/employeestocourses",component:b.a}),m.a.createElement(j,{path:"/reports",component:N.a}),m.a.createElement(j,{path:"/coursedetail",component:y.a}),m.a.createElement(j,{path:"/courses",component:S.a}),m.a.createElement(j,{path:"/firebase",component:_.a}),m.a.createElement(j,{path:"/campaigns",component:O}),m.a.createElement(j,{path:"/overview",component:k.a}),m.a.createElement(j,{path:"/",component:k.a}),m.a.createElement(d.b,{render:function(){return m.a.createElement("h1",null,"Not Found")}}))}}]),t}(m.a.Component),j=function(e){var t=e.component,a=Object(n.a)(e,["component"]);if(D.loggedIn())return m.a.createElement(d.b,Object.assign({},a,{render:function(e){return!0===D.loggedIn()?m.a.createElement(t,e):m.a.createElement(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}));window.location.href="/login"};t.a=P},282:function(e,t,a){"use strict";(function(e){var n=a(9),l=a(10),s=a(13),r=a(11),c=a(12),o=a(0),i=a.n(o),m=a(21),d=a.n(m),u=a(283),p=a(284),h=a(194),v=new(a(128).a),g=window.location.pathname,f=function(t){function a(t){var l;return Object(n.a)(this,a),l=Object(s.a)(this,Object(r.a)(a).call(this,t)),e.api=v,l}return Object(c.a)(a,t),Object(l.a)(a,[{key:"render",value:function(){return"/login"===g||"/forgotpass"===g?i.a.createElement("div",null,i.a.createElement(h.a,null)):i.a.createElement("div",{className:"page_wrap"},i.a.createElement(d.a,null),i.a.createElement(p.a,null),i.a.createElement("div",{className:"content_wrap"},i.a.createElement(u.a,null),i.a.createElement(h.a,null)))}}]),a}(o.Component);t.a=f}).call(this,a(25))},283:function(e,t,a){"use strict";var n=a(9),l=a(10),s=a(13),r=a(11),c=a(12),o=a(0),i=a.n(o);console.log(window.location.pathname);var m=window.location.pathname,d=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("aside",{className:"js-sticky",id:"aside"},i.a.createElement("nav",{className:"navigation_menu"},i.a.createElement("menu",{className:"menu "},i.a.createElement("li",{className:"menu_item"},i.a.createElement("a",{className:"/overview"===m?"menu_link current":"menu_link",href:"/overview"},i.a.createElement("i",{className:"menu_link_icon"},i.a.createElement("img",{src:"/images/icons/icon1.svg",alt:""}),i.a.createElement("img",{src:"/images/icons/icon1hover.svg",alt:""})),i.a.createElement("span",null,"Overview"))),i.a.createElement("li",{className:"menu_item"},i.a.createElement("a",{className:"/employee"===m?"menu_link current":"menu_link",href:"/employee"},i.a.createElement("i",{className:"menu_link_icon"},i.a.createElement("img",{src:"/images/icons/icon2.svg",alt:""}),i.a.createElement("img",{src:"/images/icons/icon2hover.svg",alt:""})),i.a.createElement("span",null,"Employees"))),i.a.createElement("li",{className:"menu_item"},i.a.createElement("a",{className:"/reports"===m?"menu_link current":"menu_link",href:"/reports"},i.a.createElement("i",{className:"menu_link_icon"},i.a.createElement("img",{src:"/images/icons/icon3.svg",alt:""}),i.a.createElement("img",{src:"/images/icons/icon3hover.svg",alt:""})),i.a.createElement("span",null,"Reports"))),i.a.createElement("li",{className:"menu_item"},i.a.createElement("a",{className:"/courses"===m?"menu_link current":"menu_link",href:"/courses"},i.a.createElement("i",{className:"menu_link_icon"},i.a.createElement("img",{src:"/images/icons/icon4.svg",alt:""}),i.a.createElement("img",{src:"/images/icons/icon4hover.svg",alt:""})),i.a.createElement("span",null,"Courses"))),i.a.createElement("li",{className:"menu_item"},i.a.createElement("a",{className:"/campaigns"===m?"menu_link current":"menu_link",href:"/campaigns"},i.a.createElement("i",{className:"menu_link_icon"},i.a.createElement("img",{src:"/images/icons/icon4.svg",alt:""}),i.a.createElement("img",{src:"/images/icons/icon4hover.svg",alt:""})),i.a.createElement("span",null,"Campaigns"))))))}}]),t}(o.Component);t.a=d},284:function(e,t,a){"use strict";(function(e){var n=a(9),l=a(10),s=a(13),r=a(11),c=a(12),o=a(0),i=a.n(o),m=a(60),d=a(128),u=a(20),p=window.location.pathname,h=new m.a,v=new d.a,g=function(t){function a(t){var l;return Object(n.a)(this,a),(l=Object(s.a)(this,Object(r.a)(a).call(this,t))).handleLogout=function(e){h.logout(),window.location.href="/login"},l.handleChange=function(e){l.setState({selectedOption:e});var t=e.value;v.setCompanyCode(t);var a=e.label.split(" - ");v.setCompanyName(a[1]),window.location.href=p},l.user="",h.loggedIn()&&(l.user=h.getProfile()),e.companyCode=v.getCompanyCode(),e.companyName=v.getCompanyName(),e.access_level=v.getAccessLevel(),null===e.companyCode&&"1"===e.access_level&&(e.companyCode=115,e.companyName="Taplingua Empresas Demo 1"),l.state={companyList:[],selectedOption:[{value:e.companyCode,label:e.companyCode+" - "+e.companyName}],companyDisable:""},l}return Object(c.a)(a,t),Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;"3"===e.access_level&&this.setState({companyDisable:"disabled"});("1"===e.access_level?e.api.getCompanyList():e.api.getCompanyList(e.companyCode)).then((function(e){e.sort((function(e,t){return e.value-t.value})),t.setState({companyList:e})})).catch((function(e){alert(e)}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"overlay"}),i.a.createElement("div",{id:"page-preloader"},i.a.createElement("div",{className:"preloader"},i.a.createElement("div",{className:"preload_inner preload-one"}),i.a.createElement("div",{className:"preload_inner preload-two"}),i.a.createElement("div",{className:"preload_inner preload-three"}))),i.a.createElement("header",{className:"header",id:"header"},i.a.createElement("div",{className:"container-fluid"},i.a.createElement("div",{className:"header_wrap"},i.a.createElement("div",{className:"header_left"},i.a.createElement("a",{className:"logo_box",href:"index.html"},i.a.createElement("div",{className:"logo"},i.a.createElement("img",{src:"images/logo.svg",alt:""})),i.a.createElement("div",{className:"logo_description"},"Dashboard"))),i.a.createElement("div",{className:"header_right"},i.a.createElement("div",{className:"head_box_l switch"},i.a.createElement("h6",{className:"title1 mr15",style:{fontSize:"15px"}},"Company"),i.a.createElement("div",{style:{width:"350px"}},i.a.createElement(u.a,{id:"company",value:this.state.selectedOption,onChange:this.handleChange,options:this.state.companyList,className:"Select has-value is-clearable is-searchable Select--multi",classNamePrefix:"company",isDisabled:this.state.companyDisable}))),i.a.createElement("a",{className:"link link-black support_link",href:"/help"},i.a.createElement("span",null,"Help & Support")),i.a.createElement("a",{className:"header_reminder",href:"/"},i.a.createElement("span",null,"8")),i.a.createElement("div",{className:"header_login_box"},i.a.createElement("span",{className:"header_login_name"},"Hi,",i.a.createElement("span",{className:"fw700 header-logout"},this.user)),i.a.createElement("span",{className:"header_login_photo",onClick:this.handleLogout},i.a.createElement("img",{src:"/images/logout.png",alt:"Logout"}))))))))}}]),a}(i.a.Component);t.a=g}).call(this,a(25))},286:function(e,t,a){"use strict";(function(e){var n=a(28),l=a(9),s=a(10),r=a(13),c=a(11),o=a(12),i=a(0),m=a.n(i),d=a(32),u=a.n(d),p=a(22),h=a.n(p),v=a(30),g=a.n(v),f=a(81),b=a.n(f),N=a(39),E=a.n(N),y=a(20),S=a(5),_=a.n(S),w=a(21),x=(a(65),a(197));function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var O=v.Search.SearchBar,k=function(t){function a(t){var s;return Object(l.a)(this,a),(s=Object(r.a)(this,Object(c.a)(a).call(this,t))).gotoCourse=function(e,t){s.props.history.push({pathname:"/coursedetail",state:{courseId:e,courseName:t}})},s.onBatchChange=function(t){s.setState({selectedBatch:t}),console.log("Batch selected:",t.value);var a=t.value;_()("#gdpr").prop("checked",!1),s.setState({checked:!1}),e.api.getEmployeeList(e.companyCode,a).then((function(e){return e})).then((function(e){_()("#employee-content").show(),s.setState({data:e}),_()("#spinner").hide()})).catch((function(e){alert(e)}))},s.onBatchChangeOld=function(t){s.setState({selectedBatch:t.target.value});var a=t.target.value;e.api.getEmployeeList(e.companyCode,a).then((function(e){return e})).then((function(e){_()("#employee-content").show(),s.setState({data:e}),_()("#spinner").hide()})).catch((function(e){alert(e)}))},s.handleCheck=function(){var t=s.state.notification,a="";if(void 0===s.state.selectedBatch)return t.type="danger",t.title="Error",t.message="Please select batch before GDPR",w.store.addNotification(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t)),_()("#gdpr").prop("checked",!1),!1;a=s.state.selectedBatch.value,s.setState({checked:!s.state.checked});var l="";!0===!s.state.checked&&(l="Y"),e.api.getEmployeeList(e.companyCode,a,l).then((function(e){return e})).then((function(e){_()("#employee-content").show(),s.setState({data:e}),_()("#spinner").hide()})).catch((function(e){alert(e)}))},s.handleBtnClick=function(){console.log(s.state.selected)},s.handleOnSelect=function(e,t,a,n){var l=_()(n.target.parentNode.parentNode).get(0).cells;if(t)for(var s=1;s<l.length;s++)_()(n.target.parentNode.parentNode.cells[s]).get(0).className=6===s?"table_td entry-text is-active":"table_td is-active";else for(var r=1;r<l.length;r++)_()(n.target.parentNode.parentNode.cells[r]).get(0).className=6===r?"table_td entry-text":"table_td"},s.handleOnSelectAll=function(e,t,a){var n=_()(a.target.parentNode.parentNode.parentNode.parentNode.childNodes[1]).get(0).childNodes;if(e)for(var l=0;l<n.length;l++)for(var s=_()(a.target.parentNode.parentNode.parentNode.parentNode.childNodes[1].childNodes[l]).get(0).cells,r=1;r<s.length;r++)_()(a.target.parentNode.parentNode.parentNode.parentNode.childNodes[1].childNodes[l].cells[r]).get(0).className=6===r?"table_td entry-text is-active":"table_td is-active";else for(var c=0;c<n.length;c++)for(var o=_()(a.target.parentNode.parentNode.parentNode.parentNode.childNodes[1].childNodes[c]).get(0).cells,i=1;i<o.length;i++)_()(a.target.parentNode.parentNode.parentNode.parentNode.childNodes[1].childNodes[c].cells[i]).get(0).className=6===i?"table_td entry-text":"table_td"},s.state={columns:[{dataField:"i_d",text:"Id",hidden:!0,csvExport:!1},{text:"",dataField:"",formatter:function(e,t){return m.a.createElement("div",{className:"table_dots"},m.a.createElement("div",{className:"table_dots_icon"},m.a.createElement("span",null),m.a.createElement("span",null),m.a.createElement("span",null)))},headerStyle:{width:"10px"},events:{onClick:function(e,t,a,n,l){var r=e.target.className,c=s.state.statusIndex,o=s.state.courseIndex,i=s.state.locationIndex;if("table_dots"===r&&0!==e.target.parentNode.parentNode.childNodes[o].children[0].children.length){var m=_()(e.target.parentNode.parentNode.childNodes[o].children[0].children[0]).get(0).className,d=_()(e.target.parentNode.parentNode.childNodes[o].children[0]).get(0).childNodes;if("table_course_wrap"!==m){0!==e.target.parentNode.parentNode.childNodes[c].children.length&&(_()(e.target.parentNode.parentNode.childNodes[c].children[0].children[1]).get(0).className="session"),_()(e.target.parentNode.parentNode.childNodes[o].children[0].children[0]).get(0).className="table_course_wrap",_()(e.target.parentNode.parentNode.childNodes[o].children[0].children[0].children[1]).get(0).className="progress_status_container hide";for(var u=1;u<d.length;u++)_()(e.target.parentNode.parentNode.childNodes[o].children[0].children[u]).get(0).className="table_course_wrap hide";0!==e.target.parentNode.parentNode.childNodes[i].children.length&&(_()(e.target.parentNode.parentNode.childNodes[i].children[0].children[1]).get(0).className="table_location_it")}else{if(0!==e.target.parentNode.parentNode.childNodes[c].children.length&&(_()(e.target.parentNode.parentNode.childNodes[c].children[0].children[1]).get(0).className="session show"),0!==e.target.parentNode.parentNode.childNodes[o].children[0].children.length){_()(e.target.parentNode.parentNode.childNodes[o].children[0].children[0]).get(0).className="table_course_wrap is-active height",_()(e.target.parentNode.parentNode.childNodes[o].children[0].children[0].children[1]).get(0).className="progress_status_container";for(var p=1;p<d.length;p++)_()(e.target.parentNode.parentNode.childNodes[o].children[0].children[p]).get(0).className="table_course_wrap is-active height"}0!==e.target.parentNode.parentNode.childNodes[i].children.length&&(_()(e.target.parentNode.parentNode.childNodes[i].children[0].children[1]).get(0).className="table_location_it show")}_()(e.target.parentNode.parentNode.childNodes[o].children[0].children[0]).get(0).slideDown="400"}}}},{text:"EMAIL",dataField:"userId",sort:!0,csvExport:!0,classes:"entry-text",formatter:function(e,t){return m.a.createElement("div",null,m.a.createElement("a",{href:!0},t.userId))},headerStyle:{width:"25%"}},{dataField:"FirstName",text:"FirstName",sort:!0,csvExport:!0,headerStyle:{width:"12%"}},{dataField:"LastName",text:"LastName",csvExport:!0,headerStyle:{width:"10%"}},{text:"COURSES",dataField:"courseRegistered",formatter:function(e,t,a){var n=[];if(0!==t.courseRegistered.length){for(var l="0",s=0;s<1;s++){""===(l=t.courseRegistered[s].moduleCompletion_percent)&&(l="0");var r=t.courseRegistered[s].courseName,c=t.courseRegistered[s].courseNumber;n.push(m.a.createElement("div",{className:"table_course_wrap",key:t.i_d+"_"+s},m.a.createElement("div",{className:"table_course"},m.a.createElement("a",{href:"/coursedetail/?courseId=".concat(c,"&courseName=").concat(r)},t.courseRegistered[s].courseName)),m.a.createElement("div",{className:"progress_status_container hide"},m.a.createElement("div",{className:"progress_bar"},m.a.createElement(x.a,{value:l},l,"%"))),m.a.createElement("div",{className:"table_number"},t.courseCount)))}for(var o=1;o<t.courseRegistered.length;o++){""===(l=t.courseRegistered[o].moduleCompletion_percent)&&(l="0");var i=t.courseRegistered[o].courseName,d=t.courseRegistered[o].courseNumber;n.push(m.a.createElement("div",{className:"table_course_wrap hide",key:t.i_d+"_"+o},m.a.createElement("div",{className:"table_course"},m.a.createElement("a",{href:"/coursedetail/?courseId=".concat(d,"&courseName=").concat(i)},t.courseRegistered[o].courseName)),m.a.createElement("div",{className:"progress_status_container"},m.a.createElement("div",{className:"progress_bar"},m.a.createElement(x.a,{value:l},l,"%")))))}}var u="courses_"+a;return m.a.createElement("div",{id:u},n)},csvExport:!1,headerStyle:{width:"22%"}},{text:"PHONE",dataField:"Mobile",sort:!0,csvExport:!0,headerStyle:{width:"10%"}},{text:"device",dataField:"deviceMake",sort:!0,csvExport:!1,headerStyle:{width:"10%"}},{text:"deviceOS",dataField:"deviceOsVersion",sort:!0,csvExport:!1,headerStyle:{width:"10%"}},{text:"appVersion",dataField:"versionNumber",sort:!0,csvExport:!1,headerStyle:{width:"10%"}},{text:"gdprAccepted",dataField:"acceptedGDPR",sort:!0,csvExport:!0,headerStyle:{width:"15%"}},{text:"LOCATION",dataField:"Location",formatter:function(e,t){return m.a.createElement("div",null,m.a.createElement("div",{className:"table_location"},t.Location),m.a.createElement("div",{className:"table_location_it"},"Department Name"))},sort:!0,csvExport:!1,headerStyle:{width:"15%"}},{dataField:"status",text:"STATUS",csvExport:!1,formatter:function(e,t){var a=[];return" "===t.status&&a.push(m.a.createElement("div",{key:t.i_d},m.a.createElement("div",{className:"status"},m.a.createElement("i",{className:"green"}),m.a.createElement("span",null,"Status")),m.a.createElement("div",{className:"session"},m.a.createElement("span",null,"Last session"),m.a.createElement("time",null,t.lastLoginDate)))),a},headerStyle:{width:"10%"}}],data:[]},s.state.selected=[],s.state.statusIndex=4,s.state.courseIndex=5,s.state.locationIndex=12,s.state.batchData=[],s.state.csvFileName=e.companyName+"-Employee-"+s.getDate()+".csv",s.state.notification={title:"",message:"",type:"default",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:2e3,onScreen:!0}},s}return Object(o.a)(a,t),Object(s.a)(a,[{key:"getDate",value:function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}},{key:"componentDidMount",value:function(){var t=this;e.api.getEmployeeList(e.companyCode).then((function(e){return e})).then((function(e){_()("#employee-content").show(),t.setState({data:e}),_()("#spinner").hide()})).catch((function(e){alert(e)})),e.api.getBatch(e.companyCode).then((function(e){e.sort((function(e,t){return e.batchNumber-t.batchNumber})),t.setState({batchData:e})}))}},{key:"render",value:function(){var e=this,t={custom:!0,slected:[]},a=function(e){return m.a.createElement("span",{className:"btn btn-radius btn-size btn-white export",onClick:function(){e.onExport()},style:{marginTop:"20px"}},m.a.createElement("span",null,"Export CSV"))};var n={mode:"checkbox",formatter:function(e,t){return m.a.createElement("div",{class:"table_check"},m.a.createElement("label",{class:"form_checkbox"},m.a.createElement("input",{type:"checkbox",hidden:"hidden"}),m.a.createElement("span",null," ")))},clickToSelect:!1,onSelect:this.handleOnSelect,onSelectAll:this.handleOnSelectAll,headerColumnStyle:{width:"45px",paddingLeft:"5px"}},l={onClick:function(t,a,n){var l="";"TBODY"===(l="TR"===_()(t.target.parentNode).get(0).tagName?t.target.parentNode:t.target.parentNode.parentNode.parentNode.parentNode).tagName&&(l=l.childNodes[n]);var s=e.state.statusIndex,r=e.state.courseIndex,c=e.state.locationIndex;if("TR"===l.tagName&&0!==l.childNodes[r].children[0].children.length){var o=l.childNodes[r].children[0].children[0].className,i=l.childNodes[r].children[0].childNodes;if("table_course_wrap"!==o){0!==l.childNodes[s].children.length&&(l.childNodes[s].children[0].children[1].className="session"),l.childNodes[r].children[0].children[0].className="table_course_wrap",l.childNodes[r].children[0].children[0].children[1].className="progress_status_container hide";for(var m=1;m<i.length;m++)l.childNodes[r].children[0].children[m].className="table_course_wrap hide";0!==l.childNodes[c].children.length&&(l.childNodes[c].children[0].children[1].className="table_location_it")}else{if(0!==l.childNodes[s].children.length&&(l.childNodes[s].children[0].children[1].className="session show"),0!==l.childNodes[r].children[0].children.length){l.childNodes[r].children[0].children[0].className="table_course_wrap is-active height",l.childNodes[r].children[0].children[0].children[1].className="progress_status_container";for(var d=1;d<i.length;d++)l.childNodes[r].children[0].children[d].className="table_course_wrap is-active height";i.length}0!==l.childNodes[c].children.length&&(l.childNodes[c].children[0].children[1].className="table_location_it show")}l.childNodes[r].children[0].children[0].slideDown="400"}}},s=function(){return m.a.createElement("div",{className:"table_wraps",id:"spinner"},m.a.createElement("div",{className:"spinner"},m.a.createElement(E.a,{type:"Grid",color:"#4441E2",height:100,width:100}),"Loading...."))},r=function(){return m.a.createElement("div",{className:"spinner nodata-available"},"No Data Available...")};return m.a.createElement(g.a,{keyField:"i_d",data:this.state.data,columns:this.state.columns,classes:"table",search:!0,exportCSV:{fileName:this.state.csvFileName}},(function(c){return m.a.createElement("main",{className:"offset",id:"content"},m.a.createElement("section",{className:"section_box"},m.a.createElement("h1",{className:"title1 mb50"},"Employees"),m.a.createElement("div",{className:"head_box type2 mb50"},m.a.createElement("div",{className:"head_box_l"},m.a.createElement("div",{className:"activated_employee"},m.a.createElement("div",{className:"activated_employee_it"},m.a.createElement("h4",{className:"title4 mb10"},"Activated Employees"),m.a.createElement("div",{className:"color5 fz28 fw700"},e.state.data.length)),m.a.createElement("div",{className:"activated_employee_it2"},m.a.createElement("span",null,"Available Slots: 36"),m.a.createElement("img",{src:"images/icons/twotone-people.svg",alt:""}))),m.a.createElement("div",{className:"batch-select-box"},m.a.createElement("h4",{className:"title4 mb15 fw500"},"Batch"),m.a.createElement("div",{style:{width:"100px"}},m.a.createElement(y.a,{id:"batch",value:e.state.selectedBatch,onChange:e.onBatchChange,options:e.state.batchData,className:"Select has-value is-clearable is-searchable Select--multi",classNamePrefix:"batch"}))),m.a.createElement("div",{className:"gdpr-check-box title4"},"GDPR ",m.a.createElement("input",{type:"checkbox",name:"gdpr",id:"gdpr",onChange:e.handleCheck,defaultChecked:e.state.checked}))),m.a.createElement("div",{className:"head_box_c"},m.a.createElement("form",{className:"form_search"},m.a.createElement(O,Object.assign({},c.searchProps,{placeholder:"Search for employee"})),m.a.createElement("button",null,m.a.createElement("img",{src:"images/icons/search-icon.svg",alt:""})))),m.a.createElement("div",{className:"head_box_r"},m.a.createElement("a",{className:"btn btn-radius btn-size btn-white",href:"/add-employee"},m.a.createElement("i",null,m.a.createElement("img",{src:"images/icons/User.svg",alt:""})),m.a.createElement("span",null,"Add new")),m.a.createElement("span",{className:"btn btn-radius btn-size btn-blue btn-icon-right export",onClick:e.handleBtnClick},m.a.createElement("i",null,m.a.createElement("img",{src:"images/icons/arrow_next2.svg",alt:""})),m.a.createElement("span",null,"Add to Course")))),m.a.createElement("div",{id:"employee-content",style:{display:"none",width:"145%"}},0!==e.state.data.length?m.a.createElement("div",{className:"head_box_l mb15"},m.a.createElement(a,c.csvProps)):"",0!==e.state.data.length?m.a.createElement(p.PaginationProvider,{pagination:h()(t)},(function(e){var t=e.paginationProps,a=e.paginationTableProps;return m.a.createElement("div",null,m.a.createElement(u.a,Object.assign({},c.baseProps,{selectRow:n,rowEvents:l},a,{filter:b()(),classes:"table",noDataIndication:function(){return m.a.createElement(r,null)}})),m.a.createElement(p.PaginationListStandalone,t))})):m.a.createElement(r,null)),m.a.createElement(s,null)))}))}}]),a}(i.Component);t.a=k}).call(this,a(25))},287:function(e,t,a){"use strict";(function(e){var n=a(28),l=a(9),s=a(10),r=a(13),c=a(11),o=a(52),i=a(12),m=a(0),d=a.n(m),u=a(288),p=a.n(u),h=(a(437),a(65),a(289)),v=a.n(h),g=a(301),f=a.n(g),b=a(21),N=a(5),E=a.n(N),y=(a(438),a(741)),S=a(319),_=a(38);a(439);function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C=y.a.Dragger,O=function(t){function a(){var t;return Object(l.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this))).state={countryCode:"+34",phone:"+34",startDate:new Date,fields:{fname:"",email:"",lname:"",location:"",dni:"",deptname:""},errors:{}},t.state.notification={title:"",message:"",type:"default",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:2e3,onScreen:!0}},t.state.errors=[],t.form=new v.a(Object(o.a)(t)),t.form.useRules({fname:"required",email:"required|email"}),t.form.onformsubmit=function(a){var n=t.state.notification,l=t.refs.actionVal.value;if(""===l||"fillform"===l){var s="",r="",c=t.state.phone;if(""!==c){s=c.split(" ")[0].replace(/[^0-9]/g,"");var o=c.indexOf(" ");o>=0&&(r=c.substr(parseInt(o+1)).replace(/[^0-9]/g,""))}var i={userId:a.email,CompanyCode:e.companyCode,FirstName:a.fname,LastName:a.lname,Location:a.location,Mobile:r,CountryCode:s,DNI:a.dni,mobileOS:E()("#mobileos").val(),subscriptionValidDate:t.state.startDate,company:a.deptname,weeklyEmail:E()("#wemail").val(),disable:E()("#status").val(),status:"",lastLoginDate:"",fcmToken:"",versionNumber:"",accountActivated:"",activationDate:"",deviceMake:"",deviceOsVersion:"",Mobilewcode:"",token:"",verification_code:"",acceptedGDPR:"",versionName:"",updatedAt:"",altEmail:""};e.api.addEmployee(i).then((function(e){return e})).then((function(e){"Employee data inserted Successfully."===e.data.message?(n.type="success",n.title="Success",n.message=e.data.message,b.store.addNotification(x({},n))):(n.type="danger",n.title="Error",n.message=e.data.message,b.store.addNotification(x({},n)))})).catch((function(e){n.type="danger",n.title="Error",n.message=e.data.error,b.store.addNotification(x({},n))}))}else alert("Upload File")},t}return Object(i.a)(a,t),Object(s.a)(a,[{key:"handleChange",value:function(e){this.setState({countryCode:e.target.value})}},{key:"handleCheck",value:function(e){this.setState({actionVal:e.currentTarget.dataset.id}),this.refs.actionVal.value=e.currentTarget.dataset.id}},{key:"render",value:function(){var e=this,t={name:"file",accept:".csv",multiple:!0,action:"https://none",onChange:function(e){if("uploading"!==e.file.status){var t=new FileReader;t.onload=function(e){console.log(e.target.result)},t.readAsText(e.file.originFileObj)}"done"===e.file.status?S.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&S.a.error("".concat(e.file.name," file upload failed."))}};return d.a.createElement("main",{className:"offset",id:"content"},d.a.createElement("link",{rel:"stylesheet",media:"screen",href:"fonts/flag-icon/css/flag-icon.min.css"}),d.a.createElement("section",{className:"section_box"},d.a.createElement("h4",{className:"title4 fw500 mb20"},"Employees"),d.a.createElement("h1",{className:"title1 mb185"},"Add Employees"),d.a.createElement("form",{onSubmit:this.form.handleSubmit,className:"form_employee js-tabs"},d.a.createElement("ul",{className:"js-tabs-list tab-list"},d.a.createElement("li",{"data-id":"fillform",onClick:this.handleCheck.bind(this)},d.a.createElement("span",null,"Fill Form")),d.a.createElement("li",{"data-id":"uploadfile",onClick:this.handleCheck.bind(this)},d.a.createElement("span",null,"Upload from File"))),d.a.createElement("div",{className:"js-tabs-box tab-box"},d.a.createElement("div",null,d.a.createElement("div",{className:"form_row_box"},d.a.createElement("h2",{className:"title2 fw400 form_title mb25"},"Personal Information"),d.a.createElement("div",{className:"form_row_col"},d.a.createElement("div",{className:"form_row mb25"},d.a.createElement("label",{className:"form_label"},"FIRST Name"),d.a.createElement("input",{type:"text",className:"form_input",name:"fname",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.fname}),d.a.createElement("label",{className:"error_message"}," ",this.state.errors.fname?this.state.errors.fname:"")),d.a.createElement("div",{className:"form_row mb25"},d.a.createElement("label",{className:"form_label"},"LAST Name"),d.a.createElement("input",{type:"text",className:"form_input",name:"lname",onChange:this.form.handleChangeEvent,value:this.state.fields.lname}))),d.a.createElement("div",{className:"form_row_col"},d.a.createElement("div",{className:"form_row mb25"},d.a.createElement("label",{className:"form_label"},"EMAIL"),d.a.createElement("input",{className:"form_input",type:"email",name:"email",onBlur:this.form.handleBlurEvent,onChange:this.form.handleChangeEvent,value:this.state.fields.email}),d.a.createElement("label",{className:"error_message"}," ",this.state.errors.email?this.state.errors.email:"")),d.a.createElement("div",{className:"form_row mb25"},d.a.createElement("label",{className:"form_label"},"mobile"),d.a.createElement("div",{className:"p_rel selectt"},d.a.createElement(p.a,{className:"form_input form_input_tel",country:"us",value:this.state.phone,onChange:function(t){return e.setState({phone:t})},enableSearch:!0,required:"true",ref:"mobile"})))),d.a.createElement("div",{className:"form_row_col"},d.a.createElement("div",{className:"form_row mb25"},d.a.createElement("label",{className:"form_label"},"Location"),d.a.createElement("input",{className:"form_input",type:"text",id:"location",name:"location",ref:"location",onChange:this.form.handleChangeEvent,value:this.state.fields.location})),d.a.createElement("div",{className:"form_row mb25"},d.a.createElement("label",{className:"form_label"},"dni"),d.a.createElement("input",{className:"form_input",type:"text",id:"dni",name:"dni",ref:"dni",onChange:this.form.handleChangeEvent,value:this.state.fields.dni})))),d.a.createElement("div",{className:"form_row_box"},d.a.createElement("h2",{className:"title2 fw400 form_title mb25"},"Work Information"),d.a.createElement("div",{className:"form_row mb25"},d.a.createElement("label",{className:"form_label"},"Department"),d.a.createElement("input",{className:"form_input",type:"text",id:"deptname",name:"deptname",ref:"deptname",onChange:this.form.handleChangeEvent,value:this.state.fields.deptname}))),d.a.createElement("div",{className:"form_row_box"},d.a.createElement("h2",{className:"title2 fw400 form_title mb25"},"Additional Information"),d.a.createElement("div",{className:"form_row_col"},d.a.createElement("div",{className:"form_row form_flex mb25"},d.a.createElement("label",{className:"form_label"},"MOBILE OS"),d.a.createElement("select",{className:"styler select2 w182",id:"mobileos",name:"mobileos",ref:"mobileos"},d.a.createElement("option",{value:"android"},"Android"),d.a.createElement("option",{value:"IOS"},"IOS"))),d.a.createElement("div",{className:"form_row form_flex mb25"},d.a.createElement("label",{className:"form_label"},"Subscription valid date"),d.a.createElement("div",null,d.a.createElement("div",{className:"datepicker_box mb20"},d.a.createElement("div",{className:"p_rel"},d.a.createElement(f.a,{className:" form_input",selected:this.state.startDate,onChange:function(t){return e.setState({startDate:t})},dateFormat:"dd-MM-yyyy"})))))),d.a.createElement("div",{className:"form_row_col"},d.a.createElement("div",{className:"form_row form_flex mb25"},d.a.createElement("label",{className:"form_label"},"weekly email"),d.a.createElement("select",{className:"styler select2 w182",id:"wemail",name:"wemail",ref:"wemail"},d.a.createElement("option",{value:"No"},"No"),d.a.createElement("option",{value:"Yes"},"Yes"))),d.a.createElement("div",{className:"form_row form_flex mb25"},d.a.createElement("label",{className:"form_label"},"Status"),d.a.createElement("select",{className:"styler select2 w182",id:"status",name:"status",ref:"status"},d.a.createElement("option",{value:"F"},"Unarchive"),d.a.createElement("option",{value:"T"},"Archive"))))),d.a.createElement("div",{className:"form_row_btn"},d.a.createElement("button",{className:"btn btn-white btn-radius btn-size"},d.a.createElement("span",null,"Cancel")),d.a.createElement("button",{className:"btn btn-blue btn-radius btn-icon-left"},d.a.createElement("span",null,"Add employee")),d.a.createElement("input",{type:"hidden",id:"action",name:"actionVal",ref:"actionVal"}))),d.a.createElement("div",null,d.a.createElement(C,Object.assign({},t,{style:{width:"100%"}}),d.a.createElement("p",{className:"ant-upload-drag-icon"},d.a.createElement(_.a,{type:"inbox"})),d.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"),d.a.createElement("p",{className:"ant-upload-hint"},"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band fileList")))))))}}]),a}(m.Component);t.a=O}).call(this,a(25))},304:function(e,t,a){"use strict";(function(e){var n=a(33),l=a(9),s=a(10),r=a(13),c=a(11),o=a(12),i=a(0),m=a.n(i),d=a(5),u=a.n(d),p=function(t){function a(e){var t;return Object(l.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).handleChkChange=function(e){console.log(e.target.value);var a=e.target.checked,l=e.target.value;a?t.setState((function(){return{selected:[].concat(Object(n.a)(t.state.selected),[l])}})):t.setState((function(){return{selected:t.state.selected.filter((function(e){return e!==l}))}}))},t.onSubmit=function(e){console.log(u()(e.target.parentNode.parentNode.parentNode)),console.log(u()("#popup_box").get(0).className),window.location.href="#popup_box"},void 0===t.props.location.state&&(window.location.href="/employee"),t.state={data:[],userid:t.props.location.state.userid},t.state.selected=[],t}return Object(o.a)(a,t),Object(s.a)(a,[{key:"componentDidMount",value:function(){var t=this;e.api.getCourseList(e.companyCode).then((function(e){return e})).then((function(e){return t.setState({data:e})})).catch((function(e){alert(e)}))}},{key:"render",value:function(){var e=this,t=this.state.data.map((function(t,a){var n="/images/icons/icon_module_"+t.moduleNumber+".svg";return m.a.createElement("label",{className:"course_wraps_checkbox",key:a},m.a.createElement("input",{type:"checkbox",id:t.Id,hidden:"hiddden",onChange:e.handleChkChange,value:t.Id}),m.a.createElement("span",null,m.a.createElement("span",{className:"course_wraps_img"},m.a.createElement("img",{src:n,alt:""})),m.a.createElement("span",{className:"course_wraps_text"},m.a.createElement("h3",{className:"title3"},t.courseName),m.a.createElement("p",null,t.Id," Weeks"))))}));return m.a.createElement("main",{className:"offset",id:"content"},m.a.createElement("section",{className:"section_box"},m.a.createElement("h1",{className:"title1 mb50"},"Employees"),m.a.createElement("div",{className:"head_box type2 mb20"},m.a.createElement("div",{className:"head_box_l"},m.a.createElement("div",{className:"activated_employee type2"},m.a.createElement("div",{className:"activated_employee_it mr30"},m.a.createElement("img",{className:"img",src:"/images/icons/twotone-people2.svg",alt:""})),m.a.createElement("div",{className:"activated_employee_it mr60"},m.a.createElement("h4",{className:"title4 fw400 mb10"},"Activated Employees"),m.a.createElement("div",{className:"color5 fz28 fw700"},"54")),m.a.createElement("div",{className:"activated_employee_it"},m.a.createElement("h4",{className:"title4 fw400 mb10"},"Open Slots"),m.a.createElement("div",{className:"color5 fz28 fw300"},"35")))),m.a.createElement("div",{className:"head_box_c"},m.a.createElement("span",{className:"form_search"},m.a.createElement("input",{type:"text",placeholder:"Search for employee"}),m.a.createElement("button",null,m.a.createElement("img",{src:"/images/icons/search-icon.svg",alt:""})))),m.a.createElement("div",{className:"head_box_r"},m.a.createElement("a",{className:"btn btn-radius btn-size btn-white",href:"/employee"},m.a.createElement("i",null,m.a.createElement("img",{src:"/images/icons/User.svg",alt:""})),m.a.createElement("span",null,"Add new")),m.a.createElement("a",{className:"btn btn-radius btn-size btn-blue btn-icon-right popup-link",href:"#popup_box1",onClick:this.onSubmit},m.a.createElement("i",null,m.a.createElement("img",{src:"/images/icons/arrow_next2.svg",alt:""})),m.a.createElement("span",null,"Add to Course")))),m.a.createElement("div",{className:"head_box type2 mb105"},m.a.createElement("div",{className:"head_box_l fd"},m.a.createElement("div",{className:"following_box"},m.a.createElement("span",{className:"following_img"},m.a.createElement("img",{src:"/images/benjamin.png",alt:""}),m.a.createElement("img",{src:"/images/benjamin.png",alt:""}),m.a.createElement("img",{src:"/images/benjamin.png",alt:""}),m.a.createElement("img",{src:"/images/benjamin.png",alt:""}),m.a.createElement("img",{src:"/images/benjamin.png",alt:""})),m.a.createElement("span",null,m.a.createElement("b",null,"+65 more"),"\xa0will be added to the following")))),m.a.createElement("div",{className:"course_wraps mb105"},m.a.createElement("h2",{className:"mb30 fw400"},"General Courses"),m.a.createElement("div",{className:"course_wraps_it"},t))))}}]),a}(i.Component);t.a=p}).call(this,a(25))},305:function(e,t,a){"use strict";(function(e){var n=a(33),l=a(9),s=a(10),r=a(13),c=a(11),o=a(12),i=a(0),m=a.n(i),d=a(32),u=a.n(d),p=a(22),h=a.n(p),v=a(30),g=a.n(v),f=a(39),b=a.n(f),N=a(5),E=a.n(N),y=a(306),S=a(20),_=function(t){function a(t){var s;return Object(l.a)(this,a),(s=Object(r.a)(this,Object(c.a)(a).call(this,t))).onBatchChange=function(t){s.setState({selectedBatch:t}),console.log("Option selected:",t.value);var a=s.state.selectedCompany,n=t.value;e.api.getCourseBatch(a,n).then((function(e){s.setState({courseData:e})})),s.setState({selectedCourse:""}),s.setState({routeData:[]}),s.setState({selectedRouteText:[]}),s.setState({selectedRoute:[]}),s.setState({data:[]})},s.onCourseChange=function(t){s.setState({selectedCourse:t}),console.log("Option selected:",t);var a=t.value;e.api.getRouteList(a).then((function(e){return e})).then((function(e){s.setState({routeData:e})})),s.setState({selectedRoute:[]}),s.setState({selectedRouteText:[]}),s.setState({selectedRoute:[]}),s.setState({data:[]}),s.setState({noDataIndication:"block"}),s.setState({noDataAvailable:"none"}),E()("#reports").show(),E()("#table_wraps").show(),E()("#attenPagination").hide();var n=s.state.baseColNames;s.setState({columns:n});var l=s.state.selectedCompany,r=s.state.selectedBatch.value,c=t.value;s.setState({pieChartDisplay:!1});e.api.getCompletionReports(l,c,r,"").then((function(e){return e})).then((function(e){console.log("spinner hide"),s.setState({noDataIndication:"none"}),s.setState({noDataAvailable:"block"}),E()("#attenPagination").show(),s.setState({data:e})}))},s.onRouteSelect=function(e){s.setState({selectedRoute:e}),console.log("Option selected:",e),s.setState({selectedRouteText:[]});var t=[],a=[];if(null!==e)for(var n=0;n<e.length;n++)a.push(e[n]),t.push(e[n].label);s.setState({selectedRouteText:t}),s.setState({selectedRoute:a})},s.handleBtnClick=function(){s.setState({noDataIndication:"block"}),s.setState({noDataAvailable:"none"}),E()("#reports").show(),E()("#table_wraps").show(),E()("#attenPagination").hide(),s.setState({data:[]}),s.forceUpdate();var t=Object(n.a)(s.state.baseColNames),a=s.state.selectedRouteText;console.log("selectedRouteText",a),console.log("colNames",s.state.baseColNames);var l=!0,r=!1,c=void 0;try{for(var o,i=a[Symbol.iterator]();!(l=(o=i.next()).done);l=!0){var m=o.value,d={text:m=m.replace("\r\n"," "),dataField:m,headerStyle:{width:"100px",whiteSpace:"normal"}};1,t.push(d)}}catch(N){r=!0,c=N}finally{try{l||null==i.return||i.return()}finally{if(r)throw c}}if(a.length>0){1,t.push({text:"Avg",dataField:"avg",sort:!0,headerStyle:{cursor:"pointer",width:"100px"}})}s.setState({columns:t}),s.setState({avgVals:[]});var u=[],p=s.state.selectedCompany,h=s.state.selectedBatch.value,v=s.state.selectedCourse.value,g=s.state.selectedRoute;if(g.length>0){for(var f=[],b=0;b<g.length;b++)f.push(g[b].value);g=f.toString()}else g="",s.setState({pieChartDisplay:!1});e.api.getCompletionReports(p,v,h,g).then((function(e){return e})).then((function(e){console.log("spinner hide"),s.setState({noDataIndication:"none"}),s.setState({noDataAvailable:"block"}),E()("#attenPagination").show();var t=[],n=!0,l=!1,r=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value,m=i,d=0,p=0;if(a.length>0){var h=!0,v=!1,f=void 0;try{for(var b,y=a[Symbol.iterator]();!(h=(b=y.next()).done);h=!0){var S=b.value;S=S.replace("\r\n"," "),void 0!==i.Routes[S]&&(m[S]=i.Routes[S].routePercent,d=parseInt(d)+parseInt(i.Routes[S].routePercent))}}catch(N){v=!0,f=N}finally{try{h||null==y.return||y.return()}finally{if(v)throw f}}d>0&&(p=Math.round(d/a.length)),m.avg=p,u.push(p)}t.push(m)}}catch(N){l=!0,r=N}finally{try{n||null==o.return||o.return()}finally{if(l)throw r}}if(s.setState({avgVals:u}),g.length>0){var _,w,x,C=0,O=0,k=0,D=!0,P=!1,j=void 0;try{for(var I,T=u[Symbol.iterator]();!(D=(I=T.next()).done);D=!0){var R=I.value;R>=61&&R<=100?k+=1:R>=31&&R<=60?O+=1:C+=1}}catch(N){P=!0,j=N}finally{try{D||null==T.return||T.return()}finally{if(P)throw j}}_=Math.round(C/u.length*100),w=Math.round(O/u.length*100),x=Math.round(k/u.length*100),s.setState({grp1Val:C}),s.setState({grp2Val:O}),s.setState({grp3Val:k}),s.setState({grp1PVal:_}),s.setState({grp2PVal:w}),s.setState({grp3PVal:x}),s.setState({pieChartDisplay:!0})}s.setState({data:t})}))},s.handleOnSelect=function(e,t,a,l){var r="";"TR"===E()(l.target.parentNode.parentNode).get(0).tagName&&(r=l.target.parentNode.parentNode),"TBODY"===E()(l.target.parentNode.parentNode).get(0).tagName&&(r=l.target.parentNode);var c=E()(r).get(0).cells;if(void 0!==c)if(t){for(var o=0;o<c.length;o++)E()(r.cells[o]).get(0).className="reports-text reports-active";s.setState((function(){return{selected:[].concat(Object(n.a)(s.state.selected),[e])}}))}else{for(var i=0;i<c.length;i++)E()(r.cells[i]).get(0).className="reports-text";s.setState((function(){return{selected:s.state.selected.filter((function(t){return t!==e}))}}))}},s.handleOnSelectAll=function(e,t,a){var n="";n="TR"===E()(a.target.parentNode.parentNode).get(0).tagName?a.target.parentNode.parentNode:a.target.parentNode;var l=E()(n).get(0).cells,r=E()(n.parentNode.parentNode.childNodes[1]).get(0).childNodes;if(e){for(var c=0;c<r.length;c++)for(var o=0;o<l.length;o++)E()(n.parentNode.parentNode.childNodes[1].childNodes[c].cells[o]).get(0).className="reports-text reports-active";s.setState((function(){return{selected:t}}))}else{for(var i=0;i<r.length;i++)for(var m=0;m<l.length;m++)E()(n.parentNode.parentNode.childNodes[1].childNodes[i].cells[m]).get(0).className="reports-text";s.setState((function(){return{selected:[]}}))}},s.state={columns:[],data:[]},s.state.selected=[],s.state.userData=[],s.state.companyData=[],s.state.selectedCompany=e.companyCode,s.state.selectedCompanyName=e.companyName,s.state.batchData=[],s.state.selectedBatch="",s.state.courseData=[],s.state.selectedCourse="",s.state.routeData=[],s.state.selectedRoute=[],s.state.selectedRouteText=[],s.state.noDataIndication="none",s.state.noDataAvailable="none",s.state.avgVals=[],s.state.avgPercentTable="",s.state.grp1Val=0,s.state.grp2Val=0,s.state.grp3Val=0,s.state.grp1PVal=0,s.state.grp2PVal=0,s.state.grp3PVal=0,s.state.csvFileName=e.companyName+"-"+s.getDate()+".csv",s.state.pieChartDisplay=!1,s.state.baseColNames=[{dataField:"i_d",text:"Id",hidden:!0},{dataField:"userId",text:"Employee",classes:"reports-text",sort:!0,headerStyle:{width:"250px",textTransform:"none",cursor:"pointer"}},{text:"Name",dataField:"Name",classes:"reports-text",headerStyle:{width:"200px",textTransform:"none"}},{text:"MobileOS",dataField:"mobileOS",headerStyle:{width:"150px",textTransform:"none"}}],s}return Object(o.a)(a,t),Object(s.a)(a,[{key:"getDate",value:function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}},{key:"componentDidMount",value:function(){var t=this,a=this.state.selectedCompany;e.api.getBatch(a).then((function(e){e.sort((function(e,t){return e.value-t.value})),t.setState({batchData:e})}))}},{key:"render",value:function(){var e=this,t={labels:["0-30%","30%-60%","60%-100%"],datasets:[{label:"Avg % Completion",backgroundColor:["#B21F00","#2FDE00","#00A6B4"],hoverBackgroundColor:["#501800","#175000","#003350"],data:[this.state.grp1PVal,this.state.grp2PVal,this.state.grp3PVal]}]},a=function(e){return m.a.createElement("span",{className:"btn btn-radius btn-size btn-white export",onClick:function(){e.onExport()},style:{marginTop:"20px"}},m.a.createElement("span",null,"Export CSV"))},n={mode:"checkbox",clickToSelect:!1,onSelect:this.handleOnSelect,onSelectAll:this.handleOnSelectAll,headerColumnStyle:{width:"1px",paddingLeft:"5px"}},l={custom:!0,totalSize:this.state.data.length,sizePerPage:100},s=function(){return m.a.createElement("div",{className:"spinner",id:"spinner",style:{display:e.state.noDataIndication}},m.a.createElement(b.a,{type:"Grid",color:"#4441E2",height:100,width:100}),"Loading....")},r=function(){return m.a.createElement("div",{className:"spinner nodata-available",style:{display:e.state.noDataAvailable}},"No Data Available...")},c=function(){return m.a.createElement("div",{className:"section_wrap"},m.a.createElement("div",{className:"box w1"},m.a.createElement("div",{className:"white_box type2","data-mh":"white_box"},m.a.createElement("table",{className:"activity_table"},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",{className:"percent-table-th"}),m.a.createElement("th",null,m.a.createElement("span",null,"Range")),m.a.createElement("th",{className:"percent-table-th-width"},m.a.createElement("span",null,"User")),m.a.createElement("th",{className:"percent-table-th-width"},m.a.createElement("span",null,"Percentage(%)")),m.a.createElement("th",{className:"percent-table-th"}))),m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",{className:"percent-table-th"}),m.a.createElement("td",null,m.a.createElement("div",{className:"activity_name"},m.a.createElement("span",null,"60-100%"))),m.a.createElement("td",null,m.a.createElement("div",{className:"activity_couse"},e.state.grp3Val)),m.a.createElement("td",null,m.a.createElement("div",{className:"activity_time"},e.state.grp3PVal,"%")),m.a.createElement("td",{className:"percent-table-th"})),m.a.createElement("tr",null,m.a.createElement("td",{className:"percent-table-th"}),m.a.createElement("td",null,m.a.createElement("div",{className:"activity_name"},m.a.createElement("span",null,"30-60%"))),m.a.createElement("td",null,m.a.createElement("div",{className:"activity_couse"},e.state.grp2Val)),m.a.createElement("td",null,m.a.createElement("div",{className:"activity_time"},e.state.grp2PVal,"%")),m.a.createElement("td",{className:"percent-table-th"})),m.a.createElement("tr",null,m.a.createElement("td",{className:"percent-table-th"}),m.a.createElement("td",null,m.a.createElement("div",{className:"activity_name"},m.a.createElement("span",null,"0-30%"))),m.a.createElement("td",null,m.a.createElement("div",{className:"activity_couse"},e.state.grp1Val)),m.a.createElement("td",null,m.a.createElement("div",{className:"activity_time"},e.state.grp1PVal,"%")),m.a.createElement("td",{className:"percent-table-th"})))))),m.a.createElement("div",{className:"box w2"},m.a.createElement("div",{className:"white_box","data-mh":"white_box"},m.a.createElement(y.a,{data:t,options:{title:{display:!0,text:"Average % Completion Reports",fontSize:15}}}))))};return m.a.createElement("main",{className:"offset",id:"content"},m.a.createElement("section",{className:"section_box"},m.a.createElement("h1",{className:"title1 mb25"},"Completion Reports"),m.a.createElement("h4",{className:"title4 mb40"},"For ",this.state.selectedCompanyName),m.a.createElement("div",{className:"head_box type2 mb5",id:"completion_reports"},m.a.createElement("div",{className:"head_box type2 mb20",style:{width:"100%"}},m.a.createElement("div",{className:"head_box_l"},m.a.createElement("div",{className:"activated_employee type2"},m.a.createElement("div",{style:{paddingRight:"20px"}},m.a.createElement("h4",{className:"title4 mb15 fw500"},"Batch"),m.a.createElement("div",{style:{width:"100px"}},m.a.createElement(S.a,{id:"batch",value:this.state.selectedBatch,onChange:this.onBatchChange,options:this.state.batchData,className:"Select has-value is-clearable is-searchable Select--multi",classNamePrefix:"batch"}))),m.a.createElement("div",{className:"",style:{paddingRight:"20px"}},m.a.createElement("h4",{className:"title4 mb15 fw500"},"Course"),m.a.createElement("div",{style:{width:"300px"}},m.a.createElement(S.a,{ref:"course",name:"course",value:this.state.selectedCourse,onChange:this.onCourseChange,options:this.state.courseData,className:"Select has-value is-clearable is-searchable Select--multi",classNamePrefix:"course"}))),m.a.createElement("div",{className:"",style:{paddingRight:"20px"}},m.a.createElement("h4",{className:"title4 mb15 fw500"},"RouteNos"),m.a.createElement("div",{style:{width:"400px"}},m.a.createElement(S.a,{value:this.state.selectedRoute,isMulti:!0,onChange:this.onRouteSelect,options:this.state.routeData,className:"Select has-value is-clearable is-searchable Select--multi",classNamePrefix:"route ",closeMenuOnSelect:!1}))),m.a.createElement("div",{className:"head_box_r"},m.a.createElement("h4",{className:"title4 mb10 fw500"},"\xa0"),m.a.createElement("span",{className:"btn btn-radius btn-size btn-blue btn-icon-right export",onClick:this.handleBtnClick},m.a.createElement("i",null,m.a.createElement("img",{src:"images/icons/arrow_next2.svg",alt:""})),m.a.createElement("span",null,"Submit"))))))),m.a.createElement("div",{id:"reports",className:"scrollmenu",style:{display:"none"}},m.a.createElement(g.a,{keyField:"i_d",data:this.state.data,columns:this.state.columns,className:"table type2",exportCSV:{fileName:this.state.csvFileName}},(function(t){return m.a.createElement("div",{id:"table_wraps",style:{display:"none"}},!0===e.state.pieChartDisplay&&0!==e.state.data.length?m.a.createElement(c,null):"",m.a.createElement("div",{className:"head_box_c mb15"},m.a.createElement(a,t.csvProps)),m.a.createElement("div",{className:"table_wraps"},0!==e.state.data.length?m.a.createElement(p.PaginationProvider,{pagination:h()(l)},(function(e){var a=e.paginationProps,l=e.paginationTableProps;return m.a.createElement("div",{className:"attenPagination",id:"attenPagination"},m.a.createElement(u.a,Object.assign({selectRow:n,bootstrap4:!0},t.baseProps,l,{classes:"reports_table",noDataIndication:function(){return m.a.createElement(r,null)}})),m.a.createElement(p.PaginationListStandalone,a))})):m.a.createElement(r,null),m.a.createElement(s,null)))})))))}}]),a}(i.Component);t.a=_}).call(this,a(25))},308:function(e,t,a){"use strict";(function(e){var n=a(33),l=a(28),s=a(9),r=a(10),c=a(13),o=a(11),i=a(12),m=a(0),d=a.n(m),u=a(32),p=a.n(u),h=a(22),v=a.n(h),g=a(30),f=a.n(g),b=a(81),N=a.n(b),E=a(197),y=a(21),S=(a(65),a(101)),_=a(309),w=a.n(_);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O=g.Search.SearchBar,k=function(t){function a(t){var l;Object(s.a)(this,a),(l=Object(c.a)(this,Object(o.a)(a).call(this,t))).handleDeleteClick=function(t){if(t.preventDefault(),0===l.state.attenSelected.length)return alert("please select one user"),!1;var a=l.state.attenSelected[0],n=e.companyCode;e.api.deleteEmpCourse(a,n,l.state.courseId).then((function(e){return e})).then((function(e){var t=l.state.notification;"Employee is removed from this Course"===e.data.message?(t.type="success",t.title="Success",t.message=e.data.message,y.store.addNotification(C({},t)),l.setState((function(){return{attenSelected:[]}})),l.setState((function(){return{empSelected:[]}})),l.props.history.replace({pathname:"/coursedetail",state:{courseId:l.state.courseId,courseName:l.state.courseName}})):(t.type="danger",t.title="Error",t.message=e.data.message,y.store.addNotification(C({},t)))})).catch((function(e){alert(e)}))},l.handleAddClick=function(t){if(t.preventDefault(),0===l.state.empSelected.length)return alert("please select one user"),!1;var a=l.state.empSelected[0],n=e.companyCode;e.api.addEmpCourse(a,n,l.state.courseId).then((function(e){return e})).then((function(e){var t=l.state.notification;"Employee is successfully registered for this Course"===e.data.message?(t.type="success",t.title="Success",t.message=e.data.message,y.store.addNotification(C({},t)),l.setState((function(){return{attenSelected:[]}})),l.setState((function(){return{empSelected:[]}})),l.props.history.replace({pathname:"/coursedetail",state:{courseId:l.state.courseId,courseName:l.state.courseName}})):(t.type="danger",t.title="Error",t.message=e.data.message,y.store.addNotification(C({},t)))})).catch((function(e){alert(e)}))},l.handleEmpOnSelect=function(e,t,a,s){t?l.setState((function(){return{empSelected:[].concat(Object(n.a)(l.state.empSelected),[e.userId])}})):l.setState((function(){return{empSelected:l.state.empSelected.filter((function(t){return t!==e.userId}))}}))},l.handleEmpOnSelectAll=function(e,t,a){var n=t.map((function(e){return e.userId}));e?l.setState((function(){return{empSelected:n}})):l.setState((function(){return{empSelected:[]}}))},l.handleAttenOnSelect=function(e,t,a,s){t?l.setState((function(){return{attenSelected:[].concat(Object(n.a)(l.state.attenSelected),[e.userId])}})):l.setState((function(){return{attenSelected:l.state.attenSelected.filter((function(t){return t!==e.userId}))}}))},l.handleAttenOnSelectAll=function(e,t,a){var n=t.map((function(e){return e.userId}));e?l.setState((function(){return{attenSelected:n}})):l.setState((function(){return{attenSelected:[]}}))};var r=w.a.parse(l.props.location.search);void 0===l.props.location.state&&void 0===r.courseId&&void 0===r.courseName&&(window.location.href="/courses");var i="",m="";return void 0!==l.props.location.state&&void 0!==l.props.location.state.courseId&&void 0!==l.props.location.state.courseName&&(i=l.props.location.state.courseId,m=l.props.location.state.courseName),void 0!==r.courseName&&void 0!==r.courseId&&(i=r.courseId,m=r.courseName),l.state={courseId:i,courseName:m,attendanceColumns:[{dataField:"Id",text:"Id",csvExport:!1,hidden:!0},{text:"Email",dataField:"userId",sort:!0,classes:"entry-text",headerStyle:{width:"25%"}},{dataField:"FirstName",text:"FirstName",sort:!0,headerStyle:{width:"15%"}},{dataField:"LastName",text:"LastName",headerStyle:{width:"15%"}},{text:"Registered",dataField:"dateRegistered",headerStyle:{width:"10%"}},{text:"TimeSpent",dataField:"totalTimeSpent",headerStyle:{width:"10%"}},{text:"Completion",dataField:"completionPercentage",formatter:function(e,t){return d.a.createElement("div",{className:"table_progres_bar"},d.a.createElement(E.a,{value:t.completedStatus},t.completedStatus,"%"))},headerStyle:{width:"20%"}}],attendanceData:[{message:"nodata"}],empColumns:[{dataField:"FirstName",text:"FirstName",sort:!0,headerStyle:{width:"15%"}},{dataField:"LastName",text:"LastName",headerStyle:{width:"15%"}},{text:"EMAIL",dataField:"userId",sort:!0,classes:"entry-text",headerStyle:{width:"30%"}},{text:"PHONE",dataField:"Mobile",sort:!0,headerStyle:{width:"20%"}},{text:"LOCATION",dataField:"Location",formatter:function(e,t){return d.a.createElement("div",null,d.a.createElement("div",{className:"table_location"},t.Location),d.a.createElement("div",{className:"table_location_it"},"Department Name"))},sort:!0,headerStyle:{width:"20%"}}],empData:[]},l.state.attenSelected=[],l.state.empSelected=[],l.state.empNodata=!1,l.state.totalData=[],l.state.notification={title:"",message:"",type:"default",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:2e3,onScreen:!0}},l}return Object(i.a)(a,t),Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;e.api.getCourseDetails(e.companyCode,this.state.courseId).then((function(e){return e})).then((function(e){t.setState({attendanceData:e.registered}),t.setState({empData:e.availableToRegister})})).catch((function(e){alert(e)}))}},{key:"componentWillReceiveProps",value:function(t){var a=this;this.setState((function(){return{attenSelected:[]}})),this.setState((function(){return{empSelected:[]}})),this.setState({attendanceData:[]}),this.setState({empData:[]}),e.api.getCourseDetails(e.companyCode,this.state.courseId).then((function(e){return e})).then((function(e){a.setState({attendanceData:e.registered}),a.setState({empData:e.availableToRegister})})).catch((function(e){alert(e)}))}},{key:"render",value:function(){var t=this,a=function(e){return d.a.createElement("span",{className:"btn btn-radius btn-size btn-blue export",onClick:function(){e.onExport()}},d.a.createElement("span",null,"Export CSV"))},n={custom:!0,sizePerPage:30,selected:[],noDataText:"Your_custom_text",withoutNoDataText:!0},l={custom:!0,sizePerPage:30,selected:[]},s={mode:"radio",clickToSelect:!1,onSelect:this.handleAttenOnSelect,headerColumnStyle:{width:"25px",paddingLeft:"5px"}},r={mode:"radio",clickToSelect:!1,onSelect:this.handleEmpOnSelect,headerColumnStyle:{width:"25px",paddingLeft:"5px"}},c=function(){return d.a.createElement("div",{className:"spinner nodata-available"},"No Data Available....")},o=S().format("DD-MM-YYYY");return d.a.createElement("main",{className:"offset",id:"content"},d.a.createElement("section",{className:"section_box"},d.a.createElement("h4",{className:"title4 mb15 fw500"},"Courses"),d.a.createElement("div",{className:"head_box type2 mb55"},d.a.createElement("div",{className:"head_box_l"},d.a.createElement("h1",{className:"title1 mr15"},this.state.courseName))),d.a.createElement(f.a,{keyField:"i_d",data:this.state.attendanceData,columns:this.state.attendanceColumns,classes:"table-atten type2",exportCSV:{fileName:"employeeperformace_for_".concat(e.companyName,"_").concat(this.state.courseName,"_").concat(o,".csv")},search:!0},(function(e){return d.a.createElement("div",null,d.a.createElement("div",{className:"head_box type2 mb20"},d.a.createElement("div",{className:"head_box_l"},d.a.createElement("h2",{className:"title2 fw400 mr12"},"Attendance / Performance")),d.a.createElement("div",{className:"head_box_c"},d.a.createElement("div",{className:"form_search"},d.a.createElement(O,Object.assign({},e.searchProps,{placeholder:"Search for employee"})),d.a.createElement("button",null,d.a.createElement("img",{src:"images/icons/search-icon.svg",alt:""})))),d.a.createElement("div",{className:"head_box_r"},d.a.createElement(a,e.csvProps),d.a.createElement("span",{className:"btn btn-radius btn-size btn-blue delete",onClick:t.handleDeleteClick},d.a.createElement("span",null,"Delete")))),d.a.createElement("div",{className:"table_wraps"},d.a.createElement(h.PaginationProvider,{pagination:v()(n)},(function(t){var a=t.paginationProps,n=t.paginationTableProps;return d.a.createElement("div",{className:"attenPagination"},d.a.createElement(p.a,Object.assign({},e.baseProps,{selectRow:s},n,{filter:N()(),classes:"table-atten",noDataIndication:function(){return d.a.createElement(c,null)}})),d.a.createElement(h.PaginationListStandalone,a))}))),d.a.createElement("div",{className:"table_after"}))})),d.a.createElement(f.a,{keyField:"userId",data:this.state.empData,columns:this.state.empColumns,classes:"table-atten type2",search:!0},(function(e){return d.a.createElement("div",null,d.a.createElement("div",{className:"head_box type2 mb20"},d.a.createElement("div",{className:"head_box_l"},d.a.createElement("h2",{className:"title2 fw400 mr12"},"Available Employees for Enrollment")),d.a.createElement("div",{className:"head_box_c"},d.a.createElement("div",{className:"form_search"},d.a.createElement(O,Object.assign({},e.searchProps,{placeholder:"Search for employee"})),d.a.createElement("button",null,d.a.createElement("img",{src:"images/icons/search-icon.svg",alt:""})))),d.a.createElement("div",{className:"head_box_r al_itc"},d.a.createElement("span",{className:"btn btn-radius btn-size btn-blue delete",onClick:t.handleAddClick},d.a.createElement("i",null,d.a.createElement("img",{src:"images/icons/User.svg",alt:""})),d.a.createElement("span",null," Add new")))),d.a.createElement("div",{className:"table_wraps"},d.a.createElement(h.PaginationProvider,{pagination:v()(l)},(function(t){var a=t.paginationProps,n=t.paginationTableProps;return d.a.createElement("div",{className:"attenPagination"},d.a.createElement(p.a,Object.assign({},e.baseProps,{selectRow:r},n,{classes:"table-atten",noDataIndication:function(){return d.a.createElement(c,null)}})),d.a.createElement(h.PaginationListStandalone,a))}))))}))))}}]),a}(m.Component);t.a=k}).call(this,a(25))},310:function(e,t,a){"use strict";(function(e){var n=a(9),l=a(10),s=a(13),r=a(11),c=a(12),o=a(0),i=a.n(o),m=a(39),d=a.n(m),u=a(20),p=a(32),h=a.n(p),v=a(81),g=a.n(v),f=a(30),b=a.n(f),N=f.Search.SearchBar,E=function(t){function a(t){var l;return Object(n.a)(this,a),(l=Object(s.a)(this,Object(r.a)(a).call(this,t))).onBatchChange=function(t){l.setState({selectedBatch:t}),console.log("Batch selected:",t.value);var a=t.value;e.api.getCourseList(e.companyCode,a).then((function(e){return e})).then((function(e){return l.setState({data:e})})).catch((function(e){alert(e)}))},l.state={columns:[{dataField:"i_d",text:"Id",hidden:!0},{text:"COURSE",dataField:"courseName",formatter:function(e,t,a){var n="/images/icons/icon_module_"+t.moduleNo+".svg",l="courses_"+a;return i.a.createElement("div",{id:l,className:"course_child_it"},i.a.createElement("div",{className:"course_child_img"},i.a.createElement("img",{src:n,alt:""})),i.a.createElement("div",{className:"course_child_text"},i.a.createElement("div",{className:"course_child_title"},t.courseName)))},headerStyle:{width:"38%"}},{text:"course Number",dataField:"courseNumber",headerStyle:{width:"15%"}},{text:"Batch",dataField:"batchNumber",headerStyle:{width:"7%"}},{dataField:"moduleNo",text:"Module ",headerStyle:{width:"8%"}},{dataField:"courseStartDate",text:"Start Date",headerStyle:{width:"10%"}},{text:"Enrolled",dataField:"enrolled",headerStyle:{width:"10%"}},{text:"",dataField:"",formatter:function(e,t){return i.a.createElement("div",{className:"course_child_it"},i.a.createElement("span",{className:"btn btn-size3 btn-blue btn-radius export",name:t.courseName,id:t.courseNumber},i.a.createElement("span",{name:t.courseName,id:t.courseNumber},"Go to course")))},headerStyle:{width:"12%"},events:{onClick:function(e,t,a,n,s){l.props.history.push({pathname:"/coursedetail",state:{courseId:n.courseNumber,courseName:n.courseName}})}}}],data:[]},l}return Object(c.a)(a,t),Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;e.api.getCourseList(e.companyCode).then((function(e){return e})).then((function(e){return t.setState({data:e})})).catch((function(e){alert(e)})),e.api.getBatch(e.companyCode).then((function(e){e.sort((function(e,t){return e.value-t.value})),t.setState({batchData:e})}))}},{key:"render",value:function(){var e=function(){return i.a.createElement("div",{className:"spinner nodata-available"},"No Data Available...")};return i.a.createElement("main",{className:"offset",id:"content",style:{backgroundColor:"#f2f3f8"}},i.a.createElement("section",{className:"section_box"},i.a.createElement("div",{className:"head_box type2 mb25"},i.a.createElement("div",{className:"head_box_l"},i.a.createElement("h1",{className:"title1 m_b_zero"},"Courses"),i.a.createElement("div",{className:"batch-select-box"},i.a.createElement("span",{className:"title4 "},"Batch")),i.a.createElement("div",{className:"batch-select-box"},i.a.createElement("div",{style:{width:"100px"}},i.a.createElement(u.a,{id:"batch",value:this.state.selectedBatch,onChange:this.onBatchChange,options:this.state.batchData,className:"Select has-value is-clearable is-searchable Select--multi",classNamePrefix:"batch"}))))),i.a.createElement("div",{className:"course_container"},0!==this.state.data.length?i.a.createElement(b.a,{keyField:"i_d",data:this.state.data,columns:this.state.columns,classes:"course_table",search:!0},(function(t){return i.a.createElement("div",{className:"head_box type2 mb20"},i.a.createElement("div",{className:"head_box_c"},i.a.createElement("div",{className:"form_search"},i.a.createElement(N,Object.assign({},t.searchProps,{placeholder:"Search for course "})),i.a.createElement("button",null,i.a.createElement("img",{src:"images/icons/search-icon.svg",alt:""})))),i.a.createElement(h.a,Object.assign({},t.baseProps,{filter:g()(),classes:"course_table",noDataIndication:function(){return i.a.createElement(e,null)}})))})):i.a.createElement((function(){return i.a.createElement("div",{className:"spinner"},i.a.createElement(d.a,{type:"Grid",color:"#4441E2",height:100,width:100}),"Loading....")}),null))))}}]),a}(o.Component);t.a=E}).call(this,a(25))},311:function(e,t,a){"use strict";(function(e){var n=a(9),l=a(10),s=a(13),r=a(11),c=a(52),o=a(12),i=a(0),m=a.n(i),d=a(191),u=(a(722),a(20)),p=a(5),h=a.n(p),v=function(t){function a(e){var t;return Object(n.a)(this,a),(t=Object(s.a)(this,Object(r.a)(a).call(this,e))).onEmailSelect=function(e){t.setState({email:e}),console.log("Option selected:",e);var a=[];if(null!==e)for(var n=0;n<e.length;n++)a.push(e[n]);t.setState({email:a})},t.state={email:"",title:"",message:"",validate:!1},t.validateForm=t.validateForm.bind(Object(c.a)(t)),t.state.emailData=[],t}return Object(o.a)(a,t),Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;e.api.getEmailList(e.companyCode).then((function(e){return e})).then((function(e){t.setState({emailData:e})}))}},{key:"toggleValidating",value:function(e){this.setState({validate:e})}},{key:"validateForm",value:function(e){e.preventDefault(),this.toggleValidating(!0);var t=this.state;t.hasEmailError,t.hasTitleError,t.hasMessageError;if(0===this.state.email.length)return this.setState({hasEmailError:"please one email"}),alert("please select atleast one email"),!1;var a={email:this.state.email,message:this.state.message,title:this.state.title,include_image:h()("#include_img").is(":checked")};console.log("data",a)}},{key:"render",value:function(){var e=this,t=this.state,a=t.email,n=t.title,l=t.message,s=t.validate;return m.a.createElement("main",{className:"offset",id:"content"},m.a.createElement("link",{rel:"stylesheet",media:"screen",href:"fonts/flag-icon/css/flag-icon.min.css"}),m.a.createElement("section",{className:"section_box"},m.a.createElement("h4",{className:"title4 fw500 mb20"},"Employees"),m.a.createElement("h1",{className:"title1 mb50"},"Push Notification"),m.a.createElement("form",{onSubmit:this.validateForm,className:"form_employee  js-tabs"},m.a.createElement("div",{className:"js-tabs-box tab-box"},m.a.createElement("div",null,m.a.createElement("div",{className:"form_row_box"},m.a.createElement("h2",{className:"title2 fw400 form_title mb30"},"Send to Single Device"),m.a.createElement("div",{className:"form_row_col"},m.a.createElement("div",{className:"form_row mb65"},m.a.createElement("label",{className:"form_label"},"Select Email"),m.a.createElement(u.a,{attributesWrapper:{},attributesInput:{id:"email",name:"email"},value:a,isMulti:!0,onChange:this.onEmailSelect,onBlur:function(){},options:this.state.emailData,className:"Select has-value is-clearable is-searchable Select--multi",classNamePrefix:"route ",closeMenuOnSelect:!1,validate:s,validationCallback:function(t){return e.setState({hasEmailError:t,validate:!1})},validationOption:{name:"Email",check:!0,required:!0}}))),m.a.createElement("div",{className:"form_row_col"},m.a.createElement("div",{className:"form_row mb65"},m.a.createElement("label",{className:"form_label"},"Title"),m.a.createElement(d.Textbox,{classNameInput:"form_input",attributesInput:{id:"Title",name:"Title",type:"text",placeholder:"Enter Title"},value:n,validationOption:{name:"Title",check:!0,required:!0},validate:s,validationCallback:function(t){return e.setState({hasTitleError:t,validate:!1})},onChange:function(t,a){e.setState({title:t})},onBlur:function(e){}})),m.a.createElement("div",{className:"form_row mb65"},m.a.createElement("label",{className:"form_label"},"Message"),m.a.createElement(d.Textarea,{classNameInput:"form_textarea emalform_textarea",attributesWrapper:{},attributesInput:{id:"message",name:"message",placeholder:"Notification Message",cols:"10",rows:"0"},value:l,placeholder:"Notification Message",validationOption:{name:"Message",check:!0,required:!0},validate:s,validationCallback:function(t){return e.setState({hasMessageError:t,validate:!1})},onChange:function(t,a){e.setState({message:t})},onBlur:function(e){}}))),m.a.createElement("div",{className:"form_row_col"},m.a.createElement("div",{className:"form_row mb65"},m.a.createElement("label",{className:"form_label",style:{textTransform:"none"}},"Include Image?"),m.a.createElement("span",{className:"form_label"},m.a.createElement("input",{type:"checkbox",id:"include_img",name:"include_img",onChange:function(e){}})))),m.a.createElement("div",{className:""},m.a.createElement("button",{className:"btn btn-blue btn-radius btn-icon-center btn-size",onClick:this.validateForm},m.a.createElement("span",null,"Send")),m.a.createElement("input",{type:"submit",style:{display:"none"}}))))))))}}]),a}(i.Component);t.a=v}).call(this,a(25))},312:function(e,t,a){"use strict";(function(e){var n=a(28),l=a(33),s=a(9),r=a(10),c=a(13),o=a(11),i=a(12),m=a(0),d=a.n(m),u=a(32),p=a.n(u),h=a(22),v=a.n(h),g=a(30),f=a.n(g),b=a(39),N=a.n(b),E=a(5),y=a.n(E),S=a(20),_=a(86),w=a.n(_),x=a(21);a(65);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var k=function(t){function a(t){var n;return Object(s.a)(this,a),(n=Object(c.a)(this,Object(o.a)(a).call(this,t))).onBatchChange=function(t){n.setState({selectedBatch:t}),console.log("Option selected:",t.value);var a=n.state.selectedCompany,l=t.value;e.api.getCourseBatch(a,l).then((function(e){n.setState({courseData:e})})),n.setState({selectedCourse:""}),n.setState({routeData:[]}),n.setState({selectedRouteText:[]}),n.setState({selectedRoute:[]}),n.setState({data:[]}),n.setState({selectedRouteName:""}),n.setState({courseStartDate:""})},n.onCourseChange=function(t){n.setState({selectedCourse:t}),console.log("Option selected:",t);var a=t.value;n.setState({courseStartDate:"Course StartDate : "+t.courseStartDate}),e.api.getRouteList(a).then((function(e){return e})).then((function(e){n.setState({routeData:e})})),n.setState({selectedRoute:[]}),n.setState({selectedRouteText:[]}),n.setState({selectedRoute:[]}),n.setState({data:[]}),n.setState({selectedRouteName:[]}),n.setState({noDataIndication:"block"}),n.setState({noDataAvailable:"none"}),y()("#reports").show(),y()("#table_wraps").show(),y()("#campain-week-comple").hide();var l=n.state.baseColNames;n.setState({columns:l});var s=n.state.selectedCompany,r=n.state.selectedBatch.value,c=t.value;n.setState({pieChartDisplay:!1});n.setState({routeStartDate:""}),e.api.getCompletionReports(s,c,r,"").then((function(e){return e})).then((function(e){console.log("spinner hide"),n.setState({noDataIndication:"none"}),n.setState({noDataAvailable:"block"}),y()("#campain-week-comple").show(),n.setState({data:e})}))},n.onRouteSelect=function(e){n.setState({selectedRoute:e}),console.log("Option selected:",e),n.setState({selectedRouteText:[]});var t=[],a=[];if(null!==e)for(var l=0;l<e.length;l++)a.push(e[l]),t.push(e[l].label);n.setState({selectedRouteText:t}),n.setState({selectedRoute:a})},n.onLangSelect=function(e){n.setState({selectedLang:e}),console.log("Option selected:",e);var t=e.value,a={label:e.label,value:t};n.setState({selectedLang:a})},n.onModeSelect=function(e){n.setState({selectedMode:e}),console.log("Option selected:",e);var t=e.value,a={label:e.label,value:t};n.setState({selectedMode:a})},n.handleBtnClick=function(){n.setState({noDataIndication:"block"}),n.setState({noDataAvailable:"none"}),y()("#reports").show(),y()("#table_wraps").show(),y()("#campain-week-comple").hide(),n.setState({data:[]}),n.forceUpdate();var t=Object(l.a)(n.state.baseColNames);n.setState({columns:t});var a=n.state.selectedCompany,s=n.state.selectedBatch.value,r=n.state.selectedCourse.value,c=n.state.selectedRoute;e.api.getCompletionReports(a,r,s,c).then((function(e){return e})).then((function(e){console.log("spinner hide"),n.setState({noDataIndication:"none"}),n.setState({noDataAvailable:"block"}),y()("#campain-week-comple").show();var t=[],a=!0,l=!1,s=void 0;try{for(var r,c=e[Symbol.iterator]();!(a=(r=c.next()).done);a=!0){var o=r.value;t.push(o)}}catch(i){l=!0,s=i}finally{try{a||null==c.return||c.return()}finally{if(l)throw s}}n.setState({data:t})}))},n.handleOnSelect=function(e,t,a,s){var r="";"TR"===y()(s.target.parentNode.parentNode).get(0).tagName&&(r=s.target.parentNode.parentNode),"TBODY"===y()(s.target.parentNode.parentNode).get(0).tagName&&(r=s.target.parentNode);var c=y()(r).get(0).cells;if(void 0!==c)if(t){for(var o=0;o<c.length;o++)y()(r.cells[o]).get(0).className="reports-text reports-active";n.setState((function(){return{selected:[].concat(Object(l.a)(n.state.selected),[e])}}))}else{for(var i=0;i<c.length;i++)y()(r.cells[i]).get(0).className="reports-text";n.setState((function(){return{selected:n.state.selected.filter((function(t){return t!==e}))}}))}},n.handleOnSelectAll=function(e,t,a){var l="";l="TR"===y()(a.target.parentNode.parentNode).get(0).tagName?a.target.parentNode.parentNode:a.target.parentNode;var s=y()(l).get(0).cells,r=y()(l.parentNode.parentNode.childNodes[1]).get(0).childNodes;if(e){for(var c=0;c<r.length;c++)for(var o=0;o<s.length;o++)y()(l.parentNode.parentNode.childNodes[1].childNodes[c].cells[o]).get(0).className="reports-text reports-active";n.setState((function(){return{selected:t}}))}else{for(var i=0;i<r.length;i++)for(var m=0;m<s.length;m++)y()(l.parentNode.parentNode.childNodes[1].childNodes[i].cells[m]).get(0).className="reports-text";n.setState((function(){return{selected:[]}}))}},n.handleSendEmail=function(t){var a=t.target.id,l=n.state.notification;if(0===n.state.selected.length)return l.type="danger",l.title="Error",l.message="Please select One Employee",x.store.addNotification(O({},l)),!1;n.setState({loading:!0});for(var s=n.state.selected,r=[],c=0;c<s.length;c++)r.push(s[c].userId);for(var o=n.state.selectedRoute,i=[],m=0;m<o.length;m++)i.push(o[m].value);var d=n.state.selectedCompany,u=n.state.selectedBatch.value,p={to:r,from:"",companyCode:d,courseNumber:n.state.selectedCourse.value,batchNumber:u,routeNumber:i,lang:n.state.selectedLang.value,mailMode:n.state.selectedMode.value};("push-notification"===a?e.api.sendPush(p):e.api.sendEmail(p)).then((function(e){return e})).then((function(e){"Email Sent Successfully."===e.data.message||"Push Notification sent Successfully."===e.data.message?(l.type="success",l.title="Success",l.message=e.data.message,x.store.addNotification(O({},l))):(l.type="danger",l.title="Error",l.message=e.data.message,x.store.addNotification(O({},l))),n.setState({loading:!1})})).catch((function(e){alert(e)}))},n.state={columns:[],data:[],loading:!1},n.state.notification={title:"",message:"",type:"default",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:2e3,onScreen:!0}},n.state.selected=[],n.state.userData=[],n.state.companyData=[],n.state.selectedCompany=e.companyCode,n.state.selectedCompanyName=e.companyName,n.state.batchData=[],n.state.selectedBatch="",n.state.courseData=[],n.state.selectedCourse="",n.state.routeData=[],n.state.selectedRoute=[],n.state.selectedRouteText=[],n.state.noDataIndication="none",n.state.noDataAvailable="none",n.state.baseColNames=[{dataField:"i_d",text:"Id",hidden:!0},{dataField:"userId",text:"Employee",classes:"reports-text",sort:!0,headerStyle:{width:"250px",textTransform:"none",cursor:"pointer"}},{text:"Name",dataField:"Name",classes:"reports-text",headerStyle:{width:"200px",textTransform:"none"}},{text:"MobileOS",dataField:"mobileOS",headerStyle:{width:"150px",textTransform:"none"}}],n.state.langData=[{label:"Espa\xf1ol",value:"ES"},{label:"Portuguese",value:"PT"}],n.state.mailModeData=[{label:"Test Email",value:"Test"},{label:"Real Email",value:"Real"}],n.state.selectedLang={label:"Espa\xf1ol",value:"ES"},n.state.selectedMode={label:"Test Email",value:"Test"},n.state.selectedRouteName="",n.state.courseStartDate="",n}return Object(i.a)(a,t),Object(r.a)(a,[{key:"getDate",value:function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}},{key:"componentDidMount",value:function(){var t=this,a=this.state.selectedCompany;e.api.getBatch(a).then((function(e){e.sort((function(e,t){return e.value-t.value})),t.setState({batchData:e})}))}},{key:"render",value:function(){var e=this,t={mode:"checkbox",clickToSelect:!1,onSelect:this.handleOnSelect,onSelectAll:this.handleOnSelectAll,headerColumnStyle:{width:"1px",paddingLeft:"5px"}},a={custom:!0,totalSize:this.state.data.length,sizePerPage:100},n=function(){return d.a.createElement("div",{className:"spinner",id:"spinner",style:{display:e.state.noDataIndication}},d.a.createElement(N.a,{type:"Grid",color:"#4441E2",height:100,width:100}),"Loading....")},l=function(){return d.a.createElement("div",{className:"spinner nodata-available",style:{display:e.state.noDataAvailable}},"No Data Available...")},s=this.state.loading;return d.a.createElement("div",null,d.a.createElement(w.a,{active:s,spinner:!0,text:"Processing your content..."}),d.a.createElement("div",{className:"campaign-container"},d.a.createElement("div",{className:"campaign-container-left-div"},d.a.createElement("div",{className:"campaign-container-left-header"},"Weekly Completion")),d.a.createElement("div",{className:"campaign-container-right-div"},d.a.createElement("div",{className:"campaign-container-right-div-1"},d.a.createElement("h4",{className:"title4 mb15 fw500"},"Channels")),d.a.createElement("div",{className:"campaign-container-right-div-2"},d.a.createElement("div",{className:"head_box mb15"},d.a.createElement("span",{style:{width:"157px",paddingRight:"20px",paddingTop:"5px"}},d.a.createElement("span",{style:{fontWeight:"bold"}},"Language"),d.a.createElement(S.a,{id:"lang",value:this.state.selectedLang,options:this.state.langData,onChange:this.onLangSelect,className:"Select has-value is-clearable is-searchable Select--multi",classNamePrefix:"lang"})),d.a.createElement("span",{style:{width:"150px",paddingRight:"20px",paddingTop:"5px"}},d.a.createElement("span",{style:{fontWeight:"bold"}},"Mail Type"),d.a.createElement(S.a,{id:"mailMode",value:this.state.selectedMode,options:this.state.mailModeData,onChange:this.onModeSelect,className:"Select has-value is-clearable is-searchable Select--multi",classNamePrefix:"mail"})),d.a.createElement("span",{className:"btn btn-radius btn-size btn-blue btn-icon-center export mr15",onClick:this.handleSendEmail,id:"send-email",style:{marginTop:"20px"}},d.a.createElement("span",{id:"send-email"},"SendEmail")),d.a.createElement("span",{className:"btn btn-radius btn-size btn-blue btn-icon-center export mr15",onClick:this.handleSendEmail,id:"push-notification",style:{marginTop:"20px"}},d.a.createElement("span",{id:"push-notification"},"Push Notification")))),d.a.createElement("div",{className:"campaign-container-right-div-2"},d.a.createElement("div",{className:"head_box type2 mb20",style:{width:"100%"}},d.a.createElement("div",{className:"head_box_l"},d.a.createElement("div",{style:{paddingRight:"20px",height:"170px"}},d.a.createElement("h4",{className:"title4 mb15 fw500"},"Batch"),d.a.createElement("div",{style:{width:"100px"}},d.a.createElement(S.a,{id:"batch",value:this.state.selectedBatch,onChange:this.onBatchChange,options:this.state.batchData,className:"Select has-value is-clearable is-searchable Select--multi",classNamePrefix:"batch"}))),d.a.createElement("div",{style:{paddingRight:"20px",height:"170px"}},d.a.createElement("h4",{className:"title4 mb15 fw500"},"Course"),d.a.createElement("div",{style:{width:"300px",marginBottom:"-20px"}},d.a.createElement(S.a,{ref:"course",name:"course",value:this.state.selectedCourse,onChange:this.onCourseChange,options:this.state.courseData,className:"Select has-value is-clearable is-searchable Select--multi",classNamePrefix:"course"}),d.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},this.state.courseStartDate)))))))),d.a.createElement("div",{id:"reports",className:"campaign-weekly-completion",style:{display:"none"}},d.a.createElement(f.a,{keyField:"i_d",data:this.state.data,columns:this.state.columns,className:"table type2"},(function(s){return d.a.createElement("div",{id:"table_wraps",style:{display:"none"}},d.a.createElement("div",{className:""},0!==e.state.data.length?d.a.createElement(h.PaginationProvider,{pagination:v()(a)},(function(e){var a=e.paginationProps,n=e.paginationTableProps;return d.a.createElement("div",{className:"campain-week-comple",id:"campain-week-comple"},d.a.createElement(p.a,Object.assign({selectRow:t,bootstrap4:!0},s.baseProps,n,{classes:"reports_table",noDataIndication:function(){return d.a.createElement(l,null)}})),d.a.createElement(h.PaginationListStandalone,a))})):d.a.createElement(l,null),d.a.createElement(n,null)))}))))}}]),a}(m.Component);t.a=k}).call(this,a(25))},313:function(e,t,a){"use strict";(function(e){var n=a(28),l=a(33),s=a(9),r=a(10),c=a(13),o=a(11),i=a(12),m=a(0),d=a.n(m),u=a(32),p=a.n(u),h=a(22),v=a.n(h),g=a(30),f=a.n(g),b=a(39),N=a.n(b),E=a(5),y=a.n(E),S=a(20),_=a(86),w=a.n(_),x=a(21);a(65);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var k=function(t){function n(t){var r;return Object(s.a)(this,n),(r=Object(c.a)(this,Object(o.a)(n).call(this,t))).onBatchChange=function(t){r.setState({selectedBatch:t}),console.log("Option selected:",t.value);var a=r.state.selectedCompany,n=t.value;e.api.getCourseBatch(a,n).then((function(e){r.setState({courseData:e})})),r.setState({selectedCourse:""}),r.setState({selectedRouteText:[]}),r.setState({selectedRoute:[]}),r.setState({data:[]}),r.setState({selectedRouteName:""}),r.setState({courseStartDate:""})},r.onCourseChange=function(t){r.setState({selectedCourse:t}),console.log("Option selected:",t);var a=t.value;r.setState({courseStartDate:"Course StartDate : "+t.courseStartDate}),e.api.getRouteList(a).then((function(e){return e})).then((function(e){for(var t=[],a=0;a<e.length;a++)t.push({value:e[a].id,label:e[a].label,routeNo:e[a].value});r.setState({routeList:t})})),r.setState({selectedRoute:[]}),r.setState({selectedRouteText:[]}),r.setState({selectedRoute:[]}),r.setState({data:[]}),r.setState({selectedRouteName:[]}),r.setState({noDataIndication:"block"}),r.setState({noDataAvailable:"none"}),y()("#task-reports").show(),y()("#task-table_wraps").show(),y()("#campain-week-task").hide();var n=r.state.baseColNames;r.setState({columns:n});var l=r.state.selectedCompany,s=r.state.selectedBatch.value,c=t.value;r.setState({pieChartDisplay:!1});r.setState({routeStartDate:""}),e.api.getCompletionReports(l,c,s,"").then((function(e){return e})).then((function(e){console.log("spinner hide"),r.setState({noDataIndication:"none"}),r.setState({noDataAvailable:"block"}),y()("#campain-week-task").show(),r.setState({data:e})}))},r.onLangSelect=function(e){r.setState({selectedLang:e}),console.log("Option selected:",e);var t=e.value,a={label:e.label,value:t};r.setState({selectedLang:a})},r.onModeSelect=function(e){r.setState({selectedMode:e}),console.log("Option selected:",e);var t=e.value,a={label:e.label,value:t};r.setState({selectedMode:a})},r.onRouteNameChange=function(e){var t=a(732);r.setState({selectedRouteName:e});var n=e.routeNo,l=r.state.courseStartDate;n=7*(n-1);var s=t(l=l.replace("Course StartDate : ",""),"DD-MM-YYYY");s=t(s).add(n,"day").format("DD-MM-YYYY"),r.setState({routeStartDate:"Route StartDate : "+s})},r.onMailTypeSelect=function(e){r.setState({selectedMailType:e}),console.log("selectedMailType selected:",e);var t=e.value,a={label:e.label,value:t};r.setState({selectedMailType:a})},r.handleOnSelect=function(e,t,a,n){var s="";"TR"===y()(n.target.parentNode.parentNode).get(0).tagName&&(s=n.target.parentNode.parentNode),"TBODY"===y()(n.target.parentNode.parentNode).get(0).tagName&&(s=n.target.parentNode);var c=y()(s).get(0).cells;if(void 0!==c)if(t){for(var o=0;o<c.length;o++)y()(s.cells[o]).get(0).className="reports-text reports-active";r.setState((function(){return{selected:[].concat(Object(l.a)(r.state.selected),[e])}}))}else{for(var i=0;i<c.length;i++)y()(s.cells[i]).get(0).className="reports-text";r.setState((function(){return{selected:r.state.selected.filter((function(t){return t!==e}))}}))}},r.handleOnSelectAll=function(e,t,a){var n="";n="TR"===y()(a.target.parentNode.parentNode).get(0).tagName?a.target.parentNode.parentNode:a.target.parentNode;var l=y()(n).get(0).cells,s=y()(n.parentNode.parentNode.childNodes[1]).get(0).childNodes;if(e){for(var c=0;c<s.length;c++)for(var o=0;o<l.length;o++)y()(n.parentNode.parentNode.childNodes[1].childNodes[c].cells[o]).get(0).className="reports-text reports-active";r.setState((function(){return{selected:t}}))}else{for(var i=0;i<s.length;i++)for(var m=0;m<l.length;m++)y()(n.parentNode.parentNode.childNodes[1].childNodes[i].cells[m]).get(0).className="reports-text";r.setState((function(){return{selected:[]}}))}},r.handleSendEmail=function(t){var a=t.target.id,n=r.state.notification;if(0===r.state.selected.length)return n.type="danger",n.title="Error",n.message="Please select One Employee",x.store.addNotification(O({},n)),!1;r.setState({loading:!0});for(var l=r.state.selected,s=[],c=0;c<l.length;c++)s.push(l[c].userId);var o=r.state.selectedRouteName.value,i=r.state.selectedCompany,m=r.state.selectedBatch.value,d=r.state.selectedCourse.value,u={to:s,routeNumber:o,mailMode:r.state.selectedMode.value,companyCode:i,courseNumber:d,batchNumber:m,lang:r.state.selectedLang.value,type:a};e.api.sendWeeklyEmail(u).then((function(e){return e})).then((function(e){e.data.message===a+" Sent Successfully."?(n.type="success",n.title="Success",n.message=e.data.message,x.store.addNotification(O({},n))):(n.type="danger",n.title="Error",n.message=e.data.message,x.store.addNotification(O({},n))),r.setState({loading:!1})})).catch((function(e){alert(e)}))},r.state={columns:[],data:[],loading:!1},r.state.notification={title:"",message:"",type:"default",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:2e3,onScreen:!0}},r.state.selected=[],r.state.userData=[],r.state.companyData=[],r.state.selectedCompany=e.companyCode,r.state.selectedCompanyName=e.companyName,r.state.batchData=[],r.state.selectedBatch="",r.state.courseData=[],r.state.selectedCourse="",r.state.routeList=[],r.state.selectedRoute=[],r.state.selectedRouteText=[],r.state.noDataIndication="none",r.state.noDataAvailable="none",r.state.baseColNames=[{dataField:"i_d",text:"Id",hidden:!0},{dataField:"userId",text:"Employee",classes:"reports-text",sort:!0,headerStyle:{width:"250px",textTransform:"none",cursor:"pointer"}},{text:"Name",dataField:"Name",classes:"reports-text",headerStyle:{width:"200px",textTransform:"none"}},{text:"MobileOS",dataField:"mobileOS",headerStyle:{width:"150px",textTransform:"none"}}],r.state.mailType=[{label:"Route Mail",value:"route_email"},{label:"Weekly Send Mail",value:"weekly_email"},{label:"Weekly Push Notification",value:"weekly_push"}],r.state.langData=[{label:"Espa\xf1ol",value:"ES"},{label:"Portuguese",value:"PT"}],r.state.mailModeData=[{label:"Test Email",value:"Test"},{label:"Real Email",value:"Real"}],r.state.selectedLang={label:"Espa\xf1ol",value:"ES"},r.state.selectedMode={label:"Test Email",value:"Test"},r.state.selectedMailType={label:"Route Mail",value:"route_email"},r.state.selectedRouteName="",r.state.courseStartDate="",r.state.routeStartDate="",r}return Object(i.a)(n,t),Object(r.a)(n,[{key:"getDate",value:function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}},{key:"componentDidMount",value:function(){var t=this,a=this.state.selectedCompany;e.api.getBatch(a).then((function(e){e.sort((function(e,t){return e.value-t.value})),t.setState({batchData:e})}))}},{key:"render",value:function(){var e=this,t={mode:"checkbox",clickToSelect:!1,onSelect:this.handleOnSelect,onSelectAll:this.handleOnSelectAll,headerColumnStyle:{width:"1px",paddingLeft:"5px"}},a={custom:!0,totalSize:this.state.data.length,sizePerPage:100},n=function(){return d.a.createElement("div",{className:"spinner",id:"spinner",style:{display:e.state.noDataIndication}},d.a.createElement(N.a,{type:"Grid",color:"#4441E2",height:100,width:100}),"Loading....")},l=function(){return d.a.createElement("div",{className:"spinner nodata-available",style:{display:e.state.noDataAvailable}},"No Data Available...")},s=this.state.loading;return d.a.createElement("div",null,d.a.createElement(w.a,{active:s,spinner:!0,text:"Processing your content..."}),d.a.createElement("div",{className:"campaign-container"},d.a.createElement("div",{className:"campaign-container-left-div"},d.a.createElement("div",{className:"campaign-container-left-header"},"Weekly Tasks")),d.a.createElement("div",{className:"campaign-container-right-div"},d.a.createElement("div",{className:"campaign-container-right-div-1"},d.a.createElement("h4",{className:"title4 mb15 fw500"},"Channels")),d.a.createElement("div",{className:"campaign-container-right-div-2"},d.a.createElement("div",{className:"head_box mb15"},d.a.createElement("span",{style:{width:"157px",paddingRight:"20px",paddingTop:"5px"}},d.a.createElement("span",{style:{fontWeight:"bold"}},"Language"),d.a.createElement(S.a,{id:"lang",value:this.state.selectedLang,options:this.state.langData,onChange:this.onLangSelect,className:"Select has-value is-clearable is-searchable Select--multi",classNamePrefix:"lang"})),d.a.createElement("span",{style:{width:"150px",paddingRight:"20px",paddingTop:"5px"}},d.a.createElement("span",{style:{fontWeight:"bold"}},"Mail Type"),d.a.createElement(S.a,{id:"mailMode",value:this.state.selectedMode,options:this.state.mailModeData,onChange:this.onModeSelect,className:"Select has-value is-clearable is-searchable Select--multi",classNamePrefix:"mail"})),d.a.createElement("span",{className:"btn btn-radius btn-size btn-blue btn-icon-center export mr15",onClick:this.handleSendEmail,id:"weekly_email",style:{marginTop:"20px"}},d.a.createElement("span",{id:"weekly_email"},"SendEmail")),d.a.createElement("span",{className:"btn btn-radius btn-size btn-blue btn-icon-center export mr15",onClick:this.handleSendEmail,id:"weekly_push",style:{marginTop:"20px"}},d.a.createElement("span",{id:"weekly_push"},"Push Notification"))),d.a.createElement("div",{className:"head_box type2 mb20",style:{width:"100%"}},d.a.createElement("div",{className:"head_box_l"},d.a.createElement("div",{style:{paddingRight:"20px",height:"170px"}},d.a.createElement("h4",{className:"title4 mb15 fw500"},"Batch"),d.a.createElement("div",{style:{width:"100px",marginBottom:"-20px"}},d.a.createElement(S.a,{id:"batch",value:this.state.selectedBatch,onChange:this.onBatchChange,options:this.state.batchData,className:"Select has-value is-clearable is-searchable Select--multi",classNamePrefix:"batch"}))),d.a.createElement("div",{style:{paddingRight:"20px",height:"170px"}},d.a.createElement("h4",{className:"title4 mb15 fw500"},"Course"),d.a.createElement("div",{style:{width:"300px",marginBottom:"-20px"}},d.a.createElement(S.a,{ref:"course",name:"course",value:this.state.selectedCourse,onChange:this.onCourseChange,options:this.state.courseData,className:"Select has-value is-clearable is-searchable Select--multi",classNamePrefix:"course"}),d.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},this.state.courseStartDate))),d.a.createElement("div",{style:{paddingRight:"20px",height:"170px"}},d.a.createElement("h4",{className:"title4 mb15 fw500"},"RouteNos"),d.a.createElement("div",{style:{width:"200px",marginBottom:"-20px"}},d.a.createElement(S.a,{id:"routeList",value:this.state.selectedRouteName,onChange:this.onRouteNameChange,options:this.state.routeList,className:"Select has-value is-clearable is-searchable Select--multi",classNamePrefix:"Route List"}),d.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},this.state.routeStartDate)))))))),d.a.createElement("div",{id:"task-reports",className:"campaign-weekly-completion",style:{display:"none"}},d.a.createElement(f.a,{keyField:"i_d",data:this.state.data,columns:this.state.columns,className:"table type2"},(function(s){return d.a.createElement("div",{id:"task-table_wraps",style:{display:"none"}},d.a.createElement("div",{className:""},0!==e.state.data.length?d.a.createElement(h.PaginationProvider,{pagination:v()(a)},(function(e){var a=e.paginationProps,n=e.paginationTableProps;return d.a.createElement("div",{className:"campain-week-comple",id:"campain-week-task"},d.a.createElement(p.a,Object.assign({selectRow:t,bootstrap4:!0},s.baseProps,n,{classes:"reports_table",noDataIndication:function(){return d.a.createElement(l,null)}})),d.a.createElement(h.PaginationListStandalone,a))})):d.a.createElement(l,null),d.a.createElement(n,null)))}))))}}]),n}(m.Component);t.a=k}).call(this,a(25))},314:function(e,t,a){"use strict";(function(e){var n=a(28),l=a(33),s=a(9),r=a(10),c=a(13),o=a(11),i=a(12),m=a(0),d=a.n(m),u=a(32),p=a.n(u),h=a(22),v=a.n(h),g=a(30),f=a.n(g),b=a(39),N=a.n(b),E=a(5),y=a.n(E),S=a(20),_=a(86),w=a.n(_),x=a(21);a(65);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var k=function(t){function a(t){var n;return Object(s.a)(this,a),(n=Object(c.a)(this,Object(o.a)(a).call(this,t))).onBatchChange=function(t){n.setState({selectedBatch:t}),console.log("Option selected:",t.value);var a=n.state.selectedCompany,l=t.value;e.api.getCourseBatch(a,l).then((function(e){n.setState({courseData:e})})),n.setState({selectedCourse:""}),n.setState({data:[]}),n.setState({courseStartDate:""})},n.onCourseChange=function(t){n.setState({selectedCourse:t}),console.log("Option selected:",t),n.setState({courseStartDate:"Course StartDate : "+t.courseStartDate}),n.setState({data:[]}),n.setState({noDataIndication:"block"}),n.setState({noDataAvailable:"none"}),y()("#welcome-reports").show(),y()("#welcome-table_wraps").show(),y()("#campain-welcome-mail").hide();var a=n.state.baseColNames;n.setState({columns:a});var l=n.state.selectedCompany,s=n.state.selectedBatch.value,r=t.value;e.api.getCompletionReports(l,r,s,"").then((function(e){return e})).then((function(e){console.log("spinner hide"),n.setState({noDataIndication:"none"}),n.setState({noDataAvailable:"block"}),y()("#campain-welcome-mail").show(),n.setState({data:e})}))},n.onLangSelect=function(e){n.setState({selectedLang:e}),console.log("Option selected:",e);var t=e.value,a={label:e.label,value:t};n.setState({selectedLang:a})},n.onModeSelect=function(e){n.setState({selectedMode:e}),console.log("Option selected:",e);var t=e.value,a={label:e.label,value:t};n.setState({selectedMode:a})},n.handleOnSelect=function(e,t,a,s){var r="";"TR"===y()(s.target.parentNode.parentNode).get(0).tagName&&(r=s.target.parentNode.parentNode),"TBODY"===y()(s.target.parentNode.parentNode).get(0).tagName&&(r=s.target.parentNode);var c=y()(r).get(0).cells;if(void 0!==c)if(t){for(var o=0;o<c.length;o++)y()(r.cells[o]).get(0).className="reports-text reports-active";n.setState((function(){return{selected:[].concat(Object(l.a)(n.state.selected),[e])}}))}else{for(var i=0;i<c.length;i++)y()(r.cells[i]).get(0).className="reports-text";n.setState((function(){return{selected:n.state.selected.filter((function(t){return t!==e}))}}))}},n.handleOnSelectAll=function(e,t,a){var l="";l="TR"===y()(a.target.parentNode.parentNode).get(0).tagName?a.target.parentNode.parentNode:a.target.parentNode;var s=y()(l).get(0).cells,r=y()(l.parentNode.parentNode.childNodes[1]).get(0).childNodes;if(e){for(var c=0;c<r.length;c++)for(var o=0;o<s.length;o++)y()(l.parentNode.parentNode.childNodes[1].childNodes[c].cells[o]).get(0).className="reports-text reports-active";n.setState((function(){return{selected:t}}))}else{for(var i=0;i<r.length;i++)for(var m=0;m<s.length;m++)y()(l.parentNode.parentNode.childNodes[1].childNodes[i].cells[m]).get(0).className="reports-text";n.setState((function(){return{selected:[]}}))}},n.handleSendEmail=function(t){var a=n.state.notification;if(0===n.state.selected.length)return a.type="danger",a.title="Error",a.message="Please select One Employee",x.store.addNotification(O({},a)),!1;n.setState({loading:!0});for(var l=n.state.selected,s=[],r=0;r<l.length;r++)s.push(l[r].userId);var c=n.state.selectedCompany,o=n.state.selectedBatch.value,i={to:s,companyCode:c,courseNumber:n.state.selectedCourse.value,batchNumber:o,lang:n.state.selectedLang.value,mailMode:n.state.selectedMode.value};e.api.sendEmailAll(i).then((function(e){return e})).then((function(e){"Email Sent Successfully."===e.data.message?(a.type="success",a.title="Success",a.message=e.data.message,x.store.addNotification(O({},a))):(a.type="danger",a.title="Error",a.message=e.data.message,x.store.addNotification(O({},a))),n.setState({loading:!1})})).catch((function(e){alert(e)}))},n.sendEmailAll=function(t){var a=n.state.notification,l=n.state.selectedCompany,s=n.state.selectedBatch.value,r=n.state.selectedCourse.value;if(void 0===r)return a.type="danger",a.title="Error",a.message="Please select One Course",x.store.addNotification(O({},a)),!1;n.setState({loading:!0});var c={companyCode:l,courseNumber:r,batchNumber:s,lang:n.state.selectedLang.value,mailMode:n.state.selectedMode.value};e.api.sendEmailAll(c).then((function(e){return e})).then((function(e){"Email Sent Successfully."===e.data.message?(a.type="success",a.title="Success",a.message=e.data.message,x.store.addNotification(O({},a))):(a.type="danger",a.title="Error",a.message=e.data.message,x.store.addNotification(O({},a))),n.setState({loading:!1})})).catch((function(e){alert(e)}))},n.state={columns:[],data:[],loading:!1},n.state.notification={title:"",message:"",type:"default",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:2e3,onScreen:!0}},n.state.selected=[],n.state.userData=[],n.state.companyData=[],n.state.selectedCompany=e.companyCode,n.state.selectedCompanyName=e.companyName,n.state.batchData=[],n.state.selectedBatch="",n.state.courseData=[],n.state.selectedCourse="",n.state.noDataIndication="none",n.state.noDataAvailable="none",n.state.baseColNames=[{dataField:"i_d",text:"Id",hidden:!0},{dataField:"userId",text:"Employee",classes:"reports-text",sort:!0,headerStyle:{width:"250px",textTransform:"none",cursor:"pointer"}},{text:"Name",dataField:"Name",classes:"reports-text",headerStyle:{width:"200px",textTransform:"none"}},{text:"MobileOS",dataField:"mobileOS",headerStyle:{width:"150px",textTransform:"none"}}],n.state.langData=[{label:"Espa\xf1ol",value:"ES"},{label:"Portuguese",value:"PT"}],n.state.mailModeData=[{label:"Test Email",value:"Test"},{label:"Real Email",value:"Real"}],n.state.selectedLang={label:"Espa\xf1ol",value:"ES"},n.state.selectedMode={label:"Test Email",value:"Test"},n.state.courseStartDate="",n}return Object(i.a)(a,t),Object(r.a)(a,[{key:"getDate",value:function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()}},{key:"componentDidMount",value:function(){var t=this,a=this.state.selectedCompany;e.api.getBatch(a).then((function(e){e.sort((function(e,t){return e.value-t.value})),t.setState({batchData:e})}))}},{key:"render",value:function(){var e=this,t={mode:"checkbox",clickToSelect:!1,onSelect:this.handleOnSelect,onSelectAll:this.handleOnSelectAll,headerColumnStyle:{width:"1px",paddingLeft:"5px"}},a={custom:!0,totalSize:this.state.data.length,sizePerPage:100},n=function(){return d.a.createElement("div",{className:"spinner",id:"spinner",style:{display:e.state.noDataIndication}},d.a.createElement(N.a,{type:"Grid",color:"#4441E2",height:100,width:100}),"Loading....")},l=function(){return d.a.createElement("div",{className:"spinner nodata-available",style:{display:e.state.noDataAvailable}},"No Data Available...")},s=this.state.loading;return d.a.createElement("div",null,d.a.createElement(w.a,{active:s,spinner:!0,text:"Processing your content..."}),d.a.createElement("div",{className:"campaign-container"},d.a.createElement("div",{className:"campaign-container-left-div"},d.a.createElement("div",{className:"campaign-container-left-header"},"Welcome Email")),d.a.createElement("div",{className:"campaign-container-right-div"},d.a.createElement("div",{className:"campaign-container-right-div-1"},d.a.createElement("h4",{className:"title4 mb15 fw500"},"Channels")),d.a.createElement("div",{className:"campaign-container-right-div-2"},d.a.createElement("div",{className:"head_box mb15"},d.a.createElement("span",{style:{width:"157px",paddingRight:"20px",paddingTop:"5px"}},d.a.createElement("span",{style:{fontWeight:"bold"}},"Language"),d.a.createElement(S.a,{id:"lang",value:this.state.selectedLang,options:this.state.langData,onChange:this.onLangSelect,className:"Select has-value is-clearable is-searchable Select--multi",classNamePrefix:"lang"})),d.a.createElement("span",{style:{width:"150px",paddingRight:"20px",paddingTop:"5px"}},d.a.createElement("span",{style:{fontWeight:"bold"}},"Mail Type"),d.a.createElement(S.a,{id:"mailMode",value:this.state.selectedMode,options:this.state.mailModeData,onChange:this.onModeSelect,className:"Select has-value is-clearable is-searchable Select--multi",classNamePrefix:"mail"})),d.a.createElement("span",{className:"btn btn-radius btn-size btn-blue btn-icon-center export mr15",onClick:this.handleSendEmail,id:"send-email",style:{marginTop:"20px"}},d.a.createElement("span",{id:"send-email"},"SendEmail")),d.a.createElement("span",{className:"btn btn-radius btn-size btn-blue btn-icon-center export mr15",onClick:this.sendEmailAll,id:"send-email-all",style:{marginTop:"20px"}},d.a.createElement("span",{id:"send-email-all"},"SendEmail To All")))),d.a.createElement("div",{className:"campaign-container-right-div-2"},d.a.createElement("div",{className:"head_box type2 mb20",style:{width:"100%"}},d.a.createElement("div",{className:"head_box_l"},d.a.createElement("div",{style:{paddingRight:"20px",height:"170px"}},d.a.createElement("h4",{className:"title4 mb15 fw500"},"Batch"),d.a.createElement("div",{style:{width:"100px"}},d.a.createElement(S.a,{id:"batch",value:this.state.selectedBatch,onChange:this.onBatchChange,options:this.state.batchData,className:"Select has-value is-clearable is-searchable Select--multi",classNamePrefix:"batch"}))),d.a.createElement("div",{className:"",style:{paddingRight:"20px",height:"170px"}},d.a.createElement("h4",{className:"title4 mb15 fw500"},"Course"),d.a.createElement("div",{style:{width:"300px",marginBottom:"-20px"}},d.a.createElement(S.a,{ref:"course",name:"course",value:this.state.selectedCourse,onChange:this.onCourseChange,options:this.state.courseData,className:"Select has-value is-clearable is-searchable Select--multi",classNamePrefix:"course"}),d.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},this.state.courseStartDate)))))))),d.a.createElement("div",{id:"welcome-reports",className:"campaign-weekly-completion",style:{display:"none"}},d.a.createElement(f.a,{keyField:"i_d",data:this.state.data,columns:this.state.columns,className:"table type2"},(function(s){return d.a.createElement("div",{id:"welcome-table_wraps",style:{display:"none"}},d.a.createElement("div",{className:""},0!==e.state.data.length?d.a.createElement(h.PaginationProvider,{pagination:v()(a)},(function(e){var a=e.paginationProps,n=e.paginationTableProps;return d.a.createElement("div",{className:"campain-week-comple",id:"campain-welcome-mail"},d.a.createElement(p.a,Object.assign({selectRow:t,bootstrap4:!0},s.baseProps,n,{classes:"reports_table",noDataIndication:function(){return d.a.createElement(l,null)}})),d.a.createElement(h.PaginationListStandalone,a))})):d.a.createElement(l,null),d.a.createElement(n,null)))}))))}}]),a}(m.Component);t.a=k}).call(this,a(25))},322:function(e,t,a){e.exports=a(740)},327:function(e,t,a){},60:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(28),l=a(9),s=a(10),r=a(285),c=a.n(r);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var i=function(){function e(t){Object(l.a)(this,e),this.domain=t||"https://api1.taplingua.com/v1",this.fetch=this.fetch.bind(this),this.login=this.login.bind(this),this.getProfile=this.getProfile.bind(this)}return Object(s.a)(e,[{key:"forgotpass",value:function(e){return this.fetch("".concat(this.domain,"/password_reset.php"),{method:"POST",body:JSON.stringify({email:e})}).then((function(e){return Promise.resolve(e)}))}},{key:"login",value:function(e,t){var a=this;return this.fetch("".concat(this.domain,"/api-login.php"),{method:"POST",body:JSON.stringify({email:e,password:t})}).then((function(e){if(e.token){if("0"!==e.accesslevel)return a.setToken(e.token),a.setProfile(e),Promise.resolve(e);return a.setProfile({firstName:"",email:"",company_code:"",company_name:"",access_level:"",accepted_gdpr:""}),{message:"Disabled Access."}}if(e.message)return Promise.reject(e.message)}))}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return c()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"setToken",value:function(e){console.log("idToken",e),localStorage.setItem("id_token",e)}},{key:"setProfile",value:function(e){localStorage.setItem("firstName",e.firstName),localStorage.setItem("email",e.email),localStorage.setItem("company_code",e.CompanyCode),localStorage.setItem("company_name",e.companyName),localStorage.setItem("access_level",e.accesslevel),localStorage.setItem("accepted_gdpr",e.acceptedGDPR)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"setCompanyName",value:function(e){localStorage.setItem("company_name",e)}},{key:"logout",value:function(){localStorage.removeItem("id_token")}},{key:"getProfile",value:function(){return localStorage.getItem("email")}},{key:"fetch",value:function(e){function t(t,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){var a={Accept:"application/json","Content-Type":"application/json"};return this.loggedIn()&&(a.Authorization="Bearer "+this.getToken()),fetch(e,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({headers:a},t)).then(this._checkStatus).then((function(e){return e.json()}))}))},{key:"_checkStatus",value:function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}}]),e}()},722:function(e,t,a){},740:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(14),r=a.n(s),c=(a(327),a(282));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(187);r.a.render(l.a.createElement(o.a,null,l.a.createElement(c.a,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[322,1,2]]]);
//# sourceMappingURL=main.1c55666a.chunk.js.map